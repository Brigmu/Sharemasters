(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(85)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(16),r=a.n(c),i=(a(38),a(1)),s=a(5),o=a(10),m=(a(39),a(14)),u=a(11),d="UPDATE_USER",E=Object(n.createContext)(),f=E.Provider,p=function(e,t){switch(t.type){case d:return Object(u.a)({},e,{user:t.user});case"CLEAR_USER":return Object(u.a)({},e,{user:{}})}},g=function(e){e.value;var t=Object(m.a)(e,["value"]),a=Object(n.useReducer)(p,{userId:"",id:"",username:"",firstName:"",lastName:"",email:"",coordinates:{lat:null,lng:null},address:"",city:"",state:"",zipCode:null}),c=Object(i.a)(a,2),r=c[0],s=c[1];return l.a.createElement(f,Object.assign({value:[r,s]},t))},h=function(){return Object(n.useContext)(E)},b=(a(40),function(e){return l.a.createElement("div",{className:"field ".concat(e.fieldClass?e.filedClass:"")},l.a.createElement("label",{className:"label"},e.label?e.label:""),e.children)}),v=(a(41),function(e){return l.a.createElement("div",{className:"control ".concat(e.controlClass?e.controlClass:"")},e.children)}),N=(a(42),function(e){return l.a.createElement("span",{className:"icon is-".concat(e.size," is-").concat(e.side)},l.a.createElement("i",{className:"fas fa-".concat(e.icon)}))}),O=(a(43),function(e){return l.a.createElement("p",{className:"help is-".concat(e.type)},e.message)}),j=a(3),C=a.n(j),y=function(){return C.a.get("/api/passport/user_data")},k=function(e){return C.a.get("api/profile/"+e)},w=function(e,t){fetch("/api/items/"+e).then(function(e){return e.json()}).then(function(e){t(e)}).catch(function(e){return console.log(e)})},S=function(e,t){return C.a.put("/api/items/"+t)},R=function(e){return C.a.post("/api/appointments",e)},x=function(e){return C.a.post("/api/passport/login",e)},z=function(e){var t=h(),a=Object(i.a)(t,2),c=(a[0],a[1]),r=Object(n.useRef)(),s=Object(n.useRef)(),m=Object(n.useRef)(),u=Object(n.useRef)(),E=Object(n.useRef)(),f=Object(n.useRef)(),p=Object(n.useRef)(),g=Object(n.useRef)(),j=Object(n.useRef)(),w=Object(n.useState)({}),S=Object(i.a)(w,2),R=S[0],z=S[1],D=[r,s,m,u,E,j,f,p,g],F=Object(o.f)(),A=function(e){x(e).then(function(){y().then(function(e){k(e.data.user._id).then(function(e){var t;t=e.data[0],c({type:d,user:t}),F.push("/profile")})}).catch(function(e){console.log(e.response.data.message)})})};return l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container notification is-info is-light"},l.a.createElement(b,{label:"First Name"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(R.firstName?"is-danger":""),type:"text",placeholder:"Alex",ref:m}))),l.a.createElement(b,{label:"Last Name"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(R.lastName?"is-danger":""),type:"text",placeholder:"Lee",ref:u}))),l.a.createElement(b,{label:"Email"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(R.email?"is-danger":""),type:"email",placeholder:"Email input",ref:E}),l.a.createElement(N,{size:"small",side:"left",icon:"envelope"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement(b,{label:"Address"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"5555 N Main St",ref:f}))),l.a.createElement("div",{className:"is-horizontal"},l.a.createElement(b,{label:"City"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"Seattle",ref:p}))),l.a.createElement(b,{label:"State"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(R.state?"is-danger":""),type:"text",placeholder:"WA",ref:g}))),l.a.createElement(b,{label:"Zip Code"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(R.zipCode?"is-danger":""),type:"text",placeholder:"98001",ref:j})))),l.a.createElement(b,{label:"Username"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"text",placeholder:"Username",ref:r}),l.a.createElement(N,{size:"small",side:"left",icon:"user"}),l.a.createElement(N,{size:"small",side:"right",icon:"check"}))),l.a.createElement(b,{label:"Password"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"password",placeholder:"Enter a secure password",ref:s}),l.a.createElement(N,{size:"small",side:"left",icon:"lock"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",type:"submit",onClick:function(e){e.preventDefault();var t,a={firstName:m.current.value,lastName:u.current.value,username:r.current.value,address:f.current.value,city:p.current.value,state:g.current.value,zipCode:parseInt(j.current.value),email:E.current.value,password:s.current.value},n={username:r.current.value,password:s.current.value};console.log(n),(t=a,C.a.post("/api/passport/signup",t)).then(function(){var e;z({}),(e=a,C.a.post("/api/profile",e)).then(function(e){alert("Profile for ".concat(e.data.username," has been created")),A(n),D.forEach(function(e){return e.current.value=""})}).catch(function(e){var t;t=a.username,C.a.delete("api/passport/"+t),z(e.response.data.err.errors)})}).catch(function(e){z(e.response.data.err)})}},"Submit")),l.a.createElement(O,{type:"danger",message:R?R.message:""}))))},D=(a(66),a(67),function(e){var t=h(),a=Object(i.a)(t,2),n=(a[0],a[1]);return l.a.createElement("button",{onClick:function(e){e.preventDefault(),C.a.get("/api/passport/logout").then(function(e){n({type:"CLEAR_USER"}),alert(e.data.message)})},className:"button is-danger is-small"},"Logout")}),F=function(){return l.a.createElement("a",{href:"/signup",className:"button is-primary is-inverted"},l.a.createElement("span",null,"Sign Up"))},A=function(e){var t=h(),a=Object(i.a)(t,2),n=a[0];a[1];return l.a.createElement("div",{className:"section navbar is-primary"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement("div",{className:"navbar-item"},"Logo Image")),e.children,l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},n.user?n.user.username:""),l.a.createElement("div",{className:"navbar-item"},n.user?l.a.createElement(D,null):l.a.createElement(F,null)),l.a.createElement("div",{className:"navbar-item"},l.a.createElement(s.c,{to:"/",activeClassName:"is-active"},"Home")),l.a.createElement("div",{className:"navbar-item"},l.a.createElement(s.c,{to:"/profile",activeClassName:"is-active"},"Profile")),l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"burger"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)))))},I=function(){var e=h(),t=Object(i.a)(e,2),a=(t[0],t[1]),c=Object(n.useRef)(),r=Object(n.useRef)(),s=[c,r],m=Object(n.useState)({}),u=Object(i.a)(m,2),E=u[0],f=u[1],p=Object(o.f)();return l.a.createElement("div",{className:"container"},l.a.createElement(b,{fieldClass:"is-horizontal"},l.a.createElement(v,{controlClass:"has-icons-left"},l.a.createElement("input",{className:"input ".concat(E.error?"is-danger":""),type:"text",placeholder:"Username",ref:c}),l.a.createElement(N,{size:"small",side:"left",icon:"user"}))),l.a.createElement(b,{fieldClass:"is-horizontal"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(E.error?"is-danger":""),type:"text",placeholder:"Enter a secure password",ref:r}),l.a.createElement(N,{size:"small",side:"left",icon:"lock"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement(b,{fieldClass:"is-horizontal"},l.a.createElement(v,null,l.a.createElement("button",{className:"button is-info",onClick:function(e){e.preventDefault();var t={username:c.current.value,password:r.current.value};x(t).then(function(e){f({error:!1}),y().then(function(e){k(e.data.user._id).then(function(e){var t;t=e.data[0],a({type:d,user:t}),p.push("/profile")})})}).catch(function(e){f({error:!0,message:e.message})}),s.forEach(function(e){return e.current.value=""})}},"Log In"))))},L=function(){return l.a.createElement("div",{className:"signup-page"},l.a.createElement(A,null,l.a.createElement(I,null)),l.a.createElement(z,null))},_=(a(68),a(2));var P=function(e){var t=Object(n.useState)(),a=Object(i.a)(t,2);return a[0],a[1],l.a.createElement(_.Container,null,l.a.createElement("form",{className:"field has-addons"},l.a.createElement("div",{className:"control is-expanded"},l.a.createElement("input",{className:"input",value:e.search,onChange:e.handleInputChange,name:"term",type:"text",placeholder:"What are you looking for?",id:"term"})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-info",onClick:e.handleFormSubmit},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-search"}))))))};var M=function(e){return l.a.createElement("section",{className:"hero is-primary is-small is-mobile"},l.a.createElement("div",{className:"hero-head"},l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{className:"navbar-item"},l.a.createElement("img",{src:"https://bulma.io/images/bulma-type-white.png",alt:"Logo"})),l.a.createElement("span",{className:"navbar-burger burger","data-target":"navbarMenuHeroA"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{id:"navbarMenuHeroA",className:"navbar-menu"},l.a.createElement("div",{className:"navbar-end"},l.a.createElement("a",{href:"/",className:"navbar-item"},"Home"),l.a.createElement("a",{href:"/listings",className:"navbar-item"},"Browse"),l.a.createElement("a",{href:"/profile",className:"navbar-item"},"Profile"),l.a.createElement("span",{className:"navbar-item"},l.a.createElement("a",{href:"/signup",className:"button is-primary is-inverted"},l.a.createElement("span",null,"Log In")))))))),l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container has-text-centered"},l.a.createElement("h1",{className:"title"},"Shareish!"),l.a.createElement("h2",{className:"subtitle"},"share what you cherish")),l.a.createElement("br",null),l.a.createElement(P,null)))},U=function(){var e=h(),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){a.user||y().then(function(e){e.data.user&&(console.log(e.data.user),k(e.data.user._id).then(function(e){var t;console.log(e.data[0]),t=e.data[0],c({type:d,user:t})}))})},[]),l.a.createElement("div",null,l.a.createElement(M,null),l.a.createElement(_.Section,null,l.a.createElement(_.Tile,{kind:"ancestor"},l.a.createElement(_.Tile,{kind:"parent"},l.a.createElement(_.Tile,{renderAs:"article",kind:"child",notification:!0},l.a.createElement(_.Heading,{className:"has-text-centered"},a.user?"Welcome, ".concat(a.user.username,"!"):"Welcome!"))))),l.a.createElement(_.Section,null,l.a.createElement(_.Container,null,l.a.createElement(_.Columns,null,[{message:"Browse Listings",color:"is-primary is-light is-outlined",link:"listings"},{message:"Post a Listing",color:"is-primary",link:"newlisting"},{message:"View Your Profile",color:"",link:"profile"}].map(function(e){return l.a.createElement(_.Columns.Column,null,l.a.createElement(s.b,{to:"/"+e.link},l.a.createElement("div",{key:e.link,className:"notification has-text-centered "+e.color},e.message)))})))))},T=Object(n.createContext)([]),W=a(32);a(69),a(70);var B=function(e){return l.a.createElement("div",{className:"box",key:e.id},l.a.createElement("figure",{className:"image is-156x156"},l.a.createElement("img",{src:e.img,alt:""})),l.a.createElement("h2",null,e.itemName),l.a.createElement("h2",null,"$",e.price,"/day"))},H=Object(n.createContext)([]);a(71);var q=function(e){return l.a.createElement("div",Object.assign({className:"columns ".concat(e.size?e.size:""),ref:e.reference,id:e.id},e))},Y=(a(72),function(e){return l.a.createElement("div",Object.assign({className:"column ".concat(e.size?e.size:"")},e))}),$=(a(73),function(e){return l.a.createElement("div",{className:"title level notification ".concat(e.colorClass)},l.a.createElement("span",{className:"link-offset",id:e.id}),l.a.createElement("p",{className:"title"},e.title),l.a.createElement("button",{className:"button scroll-btn scroll-left","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("span",{className:"icon is-small","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("i",{className:"fas fa-angle-left","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick}))),l.a.createElement("button",{className:"button scroll-btn scroll-right","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("span",{className:"icon is-small","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("i",{className:"fas fa-angle-right","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick}))))}),K=function(e){var t=Object(n.useContext)(T),a=Object(n.useState)(),c=Object(i.a)(a,2),r=c[0],s=c[1],m=Object(n.useState)(Object(W.a)(t)),u=Object(i.a)(m,2),d=u[0],E=u[1],f=Object(n.useState)([]),p=Object(i.a)(f,2),g=p[0],h=p[1],b=Object(n.useState)([]),v=Object(i.a)(b,2),N=v[0],O=v[1],j=Object(n.useState)([]),C=Object(i.a)(j,2),y=C[0],k=C[1],w=Object(n.useState)([]),S=Object(i.a)(w,2),R=S[0],x=S[1],z=Object(n.useState)([]),D=Object(i.a)(z,2),F=D[0],I=D[1],L=Object(n.useState)([]),_=Object(i.a)(L,2),P=_[0],M=_[1],U=Object(n.useState)([]),K=Object(i.a)(U,2),Z=K[0],J=K[1],V=Object(n.useState)("name"),G=Object(i.a)(V,2),Q=G[0],X=G[1];Object(n.useEffect)(function(){switch(Q){case"name":var e=new RegExp(r),a=t.filter(function(t){return e.test(t.name.toLowerCase())});E(a);break;case"price":r?(a=t.filter(function(e){return parseInt(e.price)<=parseInt(r)}),E(a)):E(t);break;default:E(t)}},[r,t,Q]),Object(n.useEffect)(function(){var e=d.filter(function(e){return"electronics"===e.category});h(e)},[d,r]),Object(n.useEffect)(function(){var e=d.filter(function(e){return"events"===e.category});O(e)},[d]),Object(n.useEffect)(function(){var e=d.filter(function(e){return"home improvement"===e.category});k(e)},[d]),Object(n.useEffect)(function(){var e=d.filter(function(e){return"kitchen"===e.category});x(e)},[d]),Object(n.useEffect)(function(){var e=d.filter(function(e){return"miscellaneous"===e.category});I(e)},[d]),Object(n.useEffect)(function(){var e=d.filter(function(e){return"recreation"===e.category});M(e)},[d]),Object(n.useEffect)(function(){var e=d.filter(function(e){return"Yardwork"===e.category});J(e)},[d]);var ee=Object(n.useRef)(),te=Object(n.useRef)(),ae=Object(n.useRef)(),ne=Object(n.useRef)(),le=Object(n.useRef)(),ce=Object(n.useRef)(),re=Object(n.useRef)(),ie=Object(n.useRef)(),se=function(e){console.log(e.target);var t,a=e.target.getAttribute("data-direction"),n=e.target.getAttribute("data-category");switch(console.log(n),n){case"All":t=te;break;case"Electronics":t=le;break;case"Events":t=ce;break;case"Yardwork":t=ee;break;case"Kitchen Appliances":t=ae;break;case"Home Improvement":t=ne;break;case"Miscellaneous":t=re;break;case"Recreation":t=ie;break;default:t=te}switch(a){case"left":t.current.scrollBy({top:0,left:-400,behavior:"smooth"});break;case"right":t.current.scrollBy({top:0,left:400,behavior:"smooth"});break;default:console.log("nothing happened")}},oe=(Object(o.f)(),function(e){X(e.target.value)});return l.a.createElement(H.Provider,{value:d},l.a.createElement("div",{className:"listings-page"},l.a.createElement(A,null),l.a.createElement("section",{className:"section"},l.a.createElement(q,null,l.a.createElement(Y,{size:"is-2"},l.a.createElement("div",{className:"content"},l.a.createElement("p",null,"Select filter type"),"price"===Q?l.a.createElement("ul",{id:"filters"},l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"nameFilter",value:"name",name:"filter",onChange:oe}),l.a.createElement("label",{htmlFor:"nameFilter"},"Name")),l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"priceFilter",value:"price",name:"filter",onChange:oe,checked:!0}),l.a.createElement("label",{htmlFor:"priceFilter"},"Price"))):l.a.createElement("ul",{id:"filters"},l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"nameFilter",value:"name",name:"filter",checked:!0,onChange:oe}),l.a.createElement("label",{htmlFor:"nameFilter"},"Name")),l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"priceFilter",value:"price",name:"filter",onChange:oe}),l.a.createElement("label",{htmlFor:"priceFilter"},"Price"))),l.a.createElement("input",{type:"text",id:"filter",onChange:function(e){return s(e.target.value)}}),l.a.createElement("hr",null),l.a.createElement("div",{className:"title is-4"},"Category List"),l.a.createElement("div",{className:""},l.a.createElement("li",null,l.a.createElement("a",{href:"#all"},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#electronics"},"Electronics")),l.a.createElement("li",null,l.a.createElement("a",{href:"#events"},"Events")),l.a.createElement("li",null,l.a.createElement("a",{href:"#home-imp"},"Home Improvement")),l.a.createElement("li",null,l.a.createElement("a",{href:"#kitchen"},"Kitchen Appliances")),l.a.createElement("li",null,l.a.createElement("a",{href:"#misc"},"Miscellaneous")),l.a.createElement("li",null,l.a.createElement("a",{href:"#recreation"},"Recreation")),l.a.createElement("li",null,l.a.createElement("a",{href:"#yard"},"Yardwork"))))),l.a.createElement(Y,null,l.a.createElement($,{title:"All",colorClass:"is-info",id:"all",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:te},d.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):d.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})),l.a.createElement($,{title:"Electronics",colorClass:"is-danger",id:"electronics",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:le},g.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):g.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})),l.a.createElement($,{title:"Events",colorClass:"is-primary",id:"events",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:ce},N.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):N.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})),l.a.createElement($,{title:"Home Improvement",colorClass:"is-info",id:"home-imp",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:ne},y.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):y.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})),l.a.createElement($,{title:"Kitchen Appliances",colorClass:"is-danger",id:"kitchen",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:ae},R.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):R.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})),l.a.createElement($,{title:"Miscellaneous",colorClass:"is-primary",id:"misc",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:re},F.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):F.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})),l.a.createElement($,{title:"Recreation",colorClass:"is-info",id:"recreation",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:ie},P.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):P.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})),l.a.createElement($,{title:"Yardwork",colorClass:"is-danger",id:"yard",handleScrollClick:se}),l.a.createElement(q,{size:"carousel",reference:ee},Z.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):Z.map(function(e){return l.a.createElement(Y,{size:"is-2 carousel-item"},l.a.createElement(B,{price:e.price,img:e.img,itemName:e.name,id:e.id}))})))))))},Z=(a(74),a(75),function(e){return l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},e.title),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",type:"text",placeholder:e.placeholder,ref:e.reference})))}),J=(a(76),a(29),function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1];return l.a.createElement(_.Dropdown,{label:e.label,onChange:function(t){r(t),e.extraFunction&&e.extraFunction(t)},value:c},e.items.map(function(e){return l.a.createElement(_.Dropdown.Item,{value:e},e)}))}),V=(a(77),function(e){return l.a.createElement("div",{className:"item-img-div"},e.image?l.a.createElement("img",{className:"item-img",src:e.image}):l.a.createElement(l.a.Fragment,null," ",l.a.createElement("input",{name:"file",type:"file",className:"file-upload","data-cloudinary-field":"image_id","data-form-data":"{ 'transformation': {'crop':'limit','tags':'samples','width':3000,'height':2000}}",onChange:e.uploadImage}),l.a.createElement("div",{className:"placeholder-div"},l.a.createElement("h1",null,"Upload an image"))))}),G=function(e){var t=h(),a=Object(i.a)(t,2),c=(a[0],a[1],Object(n.useState)("")),r=Object(i.a)(c,2),s=r[0],m=r[1],u=(Object(o.f)(),Object(n.useState)("")),d=Object(i.a)(u,2),E=d[0],f=d[1],p=Object(n.useState)(""),g=Object(i.a)(p,2),b=g[0],v=g[1],N=Object(n.useRef)(),O=Object(n.useRef)(),j=Object(n.useRef)(),y=Object(n.useRef)(),k=Object(n.useRef)(),w=Object(n.useRef)(),S=Object(n.useRef)();return l.a.createElement("div",{className:"listing-page"},l.a.createElement(A,null),l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container notification is-info is-light"},l.a.createElement(Z,{title:"Item Name",placeholder:"lawnmower",reference:N}),l.a.createElement(Z,{title:"Description",placeholder:"Tell us about your item",reference:O}),l.a.createElement(Z,{title:"Price",placeholder:"$/day",reference:j}),l.a.createElement("label",{className:"label"},"Category"),l.a.createElement(J,{label:"Select Category",items:["Electronics","Events","Home Improvement","Kitchen Appliances","Miscellaneous","Recreation","Yardwork"],extraFunction:function(e){f(e)}}),l.a.createElement("label",{className:"label"},"Location"),l.a.createElement(J,{label:"Select Location",items:["Use my location","Enter a location"],extraFunction:function(e){v(e)}}),"Enter a location"===b?l.a.createElement(Z,{placeholder:"Street",reference:y}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===b?l.a.createElement(Z,{placeholder:"City",reference:w}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===b?l.a.createElement(Z,{placeholder:"State",reference:S}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===b?l.a.createElement(Z,{placeholder:"Zipcode",reference:k}):l.a.createElement(l.a.Fragment,null," "),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement(V,{image:s,uploadImage:function(e){var t=e.target.files[0],a=new FormData;a.append("upload_preset","sharemasters"),a.append("file",t),console.log(t),console.log(a),function(e){return C.a.post("https://api.cloudinary.com/v1_1/djz8ibfox/image/upload",e)}(a).then(function(e){console.log(e.data),m(e.data.secure_url)}).catch(function(e){return console.log(e)})}})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",onClick:function(e){e.preventDefault(),console.log(E);var t={ownerId:"5ec24cc7c7e382486c6ff128",name:N.current.value,description:O.current.value,category:E,address:y.current.value,city:w.current.value,state:S.current.value,zipCode:k.current.value,fullAddress:"".concat(y.current.value," ").concat(k.current.value," ").concat(S.current.value),coordinates:{lat:47.733,lng:-122.313},price:j.current.value,img:s,pendingRequest:!1,isRented:!1,active:!1};console.log(t),function(e){C.a.post("http://localhost:3001/api/items",e)}(t)}},"Submit")))))};a(78);var Q=function(){return l.a.createElement("button",{className:"button is-primary is-light is-outlined",onClick:function(e){console.log("navigate user to email form or chat window")}},"Message the Owner")};var X=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(o.g)().id;return Object(n.useEffect)(function(){w(r,function(e){console.log("hi from useEffect/getItem"),e=e[0],console.log(e),c(e)})},[]),l.a.createElement("div",{class:"container"},l.a.createElement("div",{class:"title"},a.name),l.a.createElement("div",{class:"columns"},l.a.createElement("figure",{class:"image"},l.a.createElement("img",{src:a.img,size:64,alt:""}))),l.a.createElement("div",{class:"column is-half"},l.a.createElement("div",{class:"content"},l.a.createElement("div",{class:"title is-5"},"Description: ",a.description),l.a.createElement("div",{class:"title is-5"},"Price: $",a.price," per day"),l.a.createElement("div",{class:"title is-5"},"Location: ",a.city,", ",a.state),l.a.createElement("div",{class:"title is-5"},"Owner: ",a.firstName,' ", " ',a.lastName),l.a.createElement(Q,null))))};a(79);var ee=function(){var e=Object(o.g)().id,t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useState)(new Date),r=Object(i.a)(c,2),s=(r[0],r[1],Object(n.useState)(new Date)),m=Object(i.a)(s,2);return m[0],m[1],l.a.createElement("div",{class:"notification"},l.a.createElement("div",{class:"title is-5"},"Request Rental"),l.a.createElement("div",{className:"item-request-form"},l.a.createElement(Z,{title:"Start Date",placeholder:"01/01/2020",reference:t}),l.a.createElement(Z,{title:"End Date",placeholder:"01/30/2020",reference:a})),l.a.createElement("div",{class:"field is-grouped button-container"},l.a.createElement("div",{class:"control"},l.a.createElement("button",{class:"button is-link",onClick:function(n){n.preventDefault();var l={itemId:e,renterId:"5ec24cc7c7e382486c6ff129",startDate:t.current.value,endDate:a.current.value};console.log(l),R(l),S("5ec24cc7c7e382486c6ff129",e)}},"Submit")),l.a.createElement("div",{class:"control"},l.a.createElement("button",{class:"button is-link is-light is-outlined"},"Cancel"))))};a(80);var te=function(){return l.a.createElement("div",null,l.a.createElement(A,null),l.a.createElement(X,null),l.a.createElement(ee,null))};a(81);var ae=function(e){return l.a.createElement("section",{className:"section"},e.children)},ne=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=(a[0],a[1],Object(n.useState)([])),r=Object(i.a)(c,2),s=r[0],o=r[1],m=function(e,t){var a=t.filter(function(t){return t.id!==e});o(a)},u=function(e){console.log(e.target);var t=parseInt(e.target.getAttribute("data-id"));m(t,s)},d=function(e){console.log(e.target);var t=parseInt(e.target.getAttribute("data-id"));m(t,s)};return Object(n.useEffect)(function(){o([{id:1,itemName:"Lawnmower",total:"50",start_date:"1/1/2020",return_date:"1/3/2020"},{id:2,itemName:"Wheelbarrow",total:"25",start_date:"6/10/2020",return_date:"6/12/2020"}])},[]),l.a.createElement("div",null,l.a.createElement(A,null),l.a.createElement(ae,null,l.a.createElement(q,null,l.a.createElement(Y,{size:"is-12"},l.a.createElement("div",{className:"notification is-light has-text-centered"},l.a.createElement("h1",{className:"is-size-3"},"Pending Offers")),0!==s.length?s.map(function(e){return l.a.createElement("div",{key:e.id,className:"notification is-info is-clearfix"},l.a.createElement("div",{className:"notification is-link"},l.a.createElement("h2",{className:"is-size-6 pending-item-info is-pulled-left"},"Item Name: ",e.itemName),l.a.createElement("h2",{className:"is-size-6 pending-item-info is-pulled-right"},"Return Date: ",e.return_date),l.a.createElement("h2",{className:"is-size-6 pending-item-info"},"Start Date: ",e.start_date),l.a.createElement("h2",{className:"is-size-6 pending-item-info "},"Total: ","$".concat(e.total))),l.a.createElement(_.Button,{"data-id":e.id,onClick:d,className:"is-pulled-right",color:"danger"},"Deny"),l.a.createElement(_.Button,{"data-id":e.id,onClick:u,className:"is-pulled-right",color:"success"},"Confirm"))}):l.a.createElement("div",{className:"notification is-warning has-text-centered"},l.a.createElement("h2",{className:"is-size-6"},"No pending item rentals"))))))},le=Object(n.createContext)(),ce=le.Provider,re=function(e,t){switch(t.type){case"UPDATE_RENTALS":return Object(u.a)({},e,{rentals:t.rentals});case"CLEAR_RENTALS":return Object(u.a)({},e,{rentals:[]});case"SET_OWNED":return Object(u.a)({},e,{owned:t.owned});case"CLEAR_OWNED":return Object(u.a)({},e,{owned:[]})}},ie=function(e){e.value;var t=Object(m.a)(e,["value"]),a=Object(n.useReducer)(re,{rentals:[],owned:[]}),c=Object(i.a)(a,2),r=c[0],s=c[1];return l.a.createElement(ce,Object.assign({value:[r,s]},t))},se=function(e){return l.a.createElement("div",{className:"tabs is-medium"},l.a.createElement("ul",null,e.tabs.map(function(t){return l.a.createElement("li",{key:t,"data-page":t,onClick:e.handlePageChange},l.a.createElement("a",{href:"#","data-page":t},t))})))},oe=function(e){return l.a.createElement(_.Notification,{className:"level"},l.a.createElement("article",{className:"media"},l.a.createElement("div",{className:"media-left"},l.a.createElement("figure",{className:"image is-128x128"},l.a.createElement("img",{src:e.image}))),l.a.createElement("div",{className:"media-content"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"title is-5"},e.title),l.a.createElement("div",{className:"title is-5"},"Start Date: ",l.a.createElement("span",null,e.startDate)),l.a.createElement("div",{className:"title is-5"},"End Date: ",l.a.createElement("span",null,e.endDate))))),l.a.createElement("div",{className:"field is-grouped"},e.children))},me=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(_.Button,Object.assign({className:"is-primary"},e),e.children))};var ue=function(e){return l.a.createElement(_.Button,Object.assign({className:"is-primary is-light is-outlined"},e),"Message the Owner")},de=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(_.Button,Object.assign({className:"is-success is-outlined"},e),e.children))},Ee=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(_.Button,Object.assign({className:"is-danger is-outlined"},e),e.children))},fe=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=(t[0],t[1],Object(n.useState)([])),c=Object(i.a)(a,2),r=c[0],s=(c[1],Object(n.useState)([])),o=Object(i.a)(s,2),m=o[0],u=(o[1],Object(n.useState)([])),d=Object(i.a)(u,2),E=d[0],f=(d[1],h()),p=Object(i.a)(f,2),g=p[0],b=(p[1],Object(n.useContext)(le)),v=Object(i.a)(b,2),N=(v[0],v[1]);console.log(g),console.log(g.user);var O=Object(n.useState)("Profile"),j=Object(i.a)(O,2),y=j[0],w=j[1],S=function(e){var t=e.target.getAttribute("data-page");w(t)},R=function(e){!function(e,t){C.a.put("/api/items/rentstatus/".concat(e),t)}(e,{isRented:!1,active:!1})},x=function(e){!function(e,t){C.a.put("/api.items/rentstatus/".concat(e),t)}(e,{pendingRequest:!1,isRented:!0})},z=function(e){!function(e,t){C.a.put("/api.items/pendingstatus/".concat(e),t)}(e,{pendingRequest:!1})},D=function(){k(g.user.userId).then(function(e){var t;t=e.data.rentals,N({type:"UPDATE_RENTALS",rentals:t}),function(e){N({type:"SET_OWNED",owned:e})}(e.data.owned)}).catch(function(e){console.log(e.response)})};return Object(n.useEffect)(function(){D()},[]),l.a.createElement(ie,null,l.a.createElement("div",{className:"profile-page"},l.a.createElement(A,null),l.a.createElement("br",null),l.a.createElement(_.Container,null,l.a.createElement(se,{handlePageChange:S,tabs:["Profile","Rentals","Requests","Returns"]})),l.a.createElement(_.Section,null,l.a.createElement(_.Container,null,"Rentals"===y?l.a.createElement(l.a.Fragment,null,0!==m.length?m.map(function(e){return l.a.createElement(oe,{image:e.img,title:e.itemName,startDate:e.appointment.startDate,endDate:e.appointment.endDate},l.a.createElement(me,{onClick:R,"data-id":e.id},"Return"),l.a.createElement(ue,null))}):l.a.createElement("div",null,"No Rentals")):"Requests"===y?l.a.createElement(l.a.Fragment,null,0!==r.length?r.map(function(e){return l.a.createElement(oe,{image:e.img,title:e.itemName,startDate:e.appointment.startDate,endDate:e.appointment.endDate},l.a.createElement(de,{onClick:x,"data-id":e.id},"Accept"),l.a.createElement(Ee,{onClick:z,"data-id":e.id},"Reject"))}):l.a.createElement("div",null,"No Requests")):"Returns"===y?l.a.createElement(l.a.Fragment,null,0!==E.length?E.map(function(e){return l.a.createElement(oe,{image:e.img,title:e.itemName,startDate:e.appointment.startDate,endDate:e.appointment.endDate},l.a.createElement(de,{onClick:R,"data-id":e.id},"Confirm"),l.a.createElement(Ee,{onClick:S,"data-id":e.id},"Report"))}):l.a.createElement("div",null,"No Returns")):l.a.createElement("div",{className:"box"},l.a.createElement("div",{className:"title"},"Username: ",g.user?g.user.username:l.a.createElement(l.a.Fragment,null)),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"title is-5"},"Name: ",g.user?g.user.firstName:l.a.createElement(l.a.Fragment,null)," ",g.user?g.user.lastName:l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"title is-5"},"Location: ",g.user?"".concat(g.user.address," ").concat(g.user.city," ").concat(g.user.state):l.a.createElement(l.a.Fragment,null," "))),l.a.createElement("div",{className:"title is-5"},"Total listings: ",g.user?g.user.owned.length:"no listing"),l.a.createElement("div",{className:"title is-5"},"Items Renting: ",g.user?g.user.rentals.length:"no listing"))))))},pe=function(e){var t=h(),a=Object(i.a)(t,2),c=a[0],r=a[1],s=Object(n.useRef)(),o=Object(n.useRef)(),m=Object(n.useRef)(),u=Object(n.useRef)(),E=Object(n.useRef)(),f=Object(n.useState)({}),p=Object(i.a)(f,2),g=p[0],j=p[1];return l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container notification is-info is-light"},l.a.createElement(b,{label:"First Name"},l.a.createElement(v,null,l.a.createElement("div",null,c.user.firstName))),l.a.createElement(b,{label:"Last Name"},l.a.createElement(v,null,l.a.createElement("div",null,c.user.lastName))),l.a.createElement(b,{label:"Address"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"5555 N Main St",ref:o}))),l.a.createElement("div",{className:"is-horizontal"},l.a.createElement(b,{label:"City"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"Seattle",ref:m}))),l.a.createElement(b,{label:"State"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(g.state?"is-danger":""),type:"text",placeholder:"Washington",ref:u}))),l.a.createElement(b,{label:"Zip Code"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(g.zipCode?"is-danger":""),type:"text",placeholder:"98001",ref:E})))),l.a.createElement(b,{label:"Email"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(g.email?"is-danger":""),type:"email",placeholder:"Email input",ref:s}),l.a.createElement(N,{size:"small",side:"left",icon:"envelope"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement(b,{label:"Username"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("div",null,c.user.username))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",type:"submit",onClick:function(e){e.preventDefault();var t,a,n={address:o.current.value,city:m.current.value,state:u.current.value,zipCode:E.current.value,email:s.current.value};(t=c.user.userId,a=n,C.a.put("/api/profile/"+t,a)).then(function(){j({}),console.log("User Updated"),r({type:d,user:n})}).catch(function(e){j(e.response.data.err)})}},"Submit")),l.a.createElement(O,{type:"danger",message:g?g.message:""}))))},ge=function(){return l.a.createElement("div",null,l.a.createElement(A,null),l.a.createElement(pe,null))};a(82);var he=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){fetch("/api/items").then(function(e){return e.json()}).then(function(e){console.log(e),c(e)}).catch(function(e){return console.log(e)})},[]),l.a.createElement(g,null,l.a.createElement(T.Provider,{value:a},l.a.createElement(s.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:U}),l.a.createElement(o.a,{exact:!0,path:"/signup",component:L}),l.a.createElement(o.a,{exact:!0,path:"/listings",component:K}),l.a.createElement(o.a,{exact:!0,path:"/newlisting",component:G}),l.a.createElement(o.a,{exact:!0,path:"/items/:id",component:te}),l.a.createElement(o.a,{exact:!0,path:"/rentalconfirm",component:ne}),l.a.createElement(o.a,{exact:!0,path:"/profile",component:fe}),l.a.createElement(o.a,{exact:!0,path:"/editprofile",component:ge}))))))},be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(l.a.createElement(he,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");be?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ve(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):ve(e)})}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.5cb9c17a.chunk.js.map