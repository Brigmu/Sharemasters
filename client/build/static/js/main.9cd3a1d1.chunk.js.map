{"version":3,"sources":["utils/UserContext/UserActions.js","utils/UserContext/UserContext.js","components/FormField/FormField.js","components/FormControl/FormControl.js","components/FormIcon/FormIcon.js","components/FormHelp/FormHelp.js","components/StatesDropdown/StatesDropdown.js","utils/API/API.js","components/UserForm/UserForm.js","components/LogoutButton/LogoutButton.js","components/SignUpButton/index.js","components/Nav/Nav.js","components/NavLogin/NavLogin.js","pages/Signup/Signup.js","components/SearchBar/index.js","components/Hero/index.js","pages/Home/Home.js","components/Columns/Columns.js","components/Column/Column.js","components/Card/index.js","components/Title/Title.js","pages/Listings/Listings.js","components/Field/Field.js","components/Dropdown/Dropdown.js","components/ItemImage/ItemImage.js","pages/ListingPost/ListingPost.js","components/ItemRequestForm/ItemRequestForm.js","components/MessageOwnerButton/MessageOwnerButton.js","components/ItemInfo/ItemInfo.js","components/ItemGoogleMaps/ItemGoogleMaps.js","pages/Item/Item.js","components/NavTabs/NavTabs.js","components/ProfileItemContainer/index.js","components/ReturnButton/index.js","components/MessageOwnerButton/index.js","components/SuccessButton/index.js","components/RejectButton/index.js","pages/Profile/Profile.js","images/index.js","components/UpdateProfile/UpdateProfile.js","pages/EditProfile/EditProfile.js","App.js","registerServiceWorker.js","index.js"],"names":["SET_USER","StoreContext","createContext","Provider","reducer","state","action","type","Object","objectSpread","user","UserProvider","_ref","value","props","objectWithoutProperties","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","react_default","a","createElement","assign","useStoreContext","useContext","FormField","className","concat","fieldClass","filedClass","label","children","FormControl","controlClass","FormIcon","size","side","icon","FormHelp","message","StatesDropdown","ref","stateRef","disabled","map","key","selected","defaultState","getCurrentUser","axios","get","getProfile","id","getItem","renterRequest","appointmentId","put","rentalCancel","postAppointment","data","post","catch","err","console","log","postListing","loginUser","userData","addOwned","itemId","UserForm","_useStoreContext","_useStoreContext2","usernameRef","useRef","passwordRef","firstNameRef","lastNameRef","emailRef","addressRef","cityRef","zipCodeRef","_useState","useState","_useState2","signupErrorState","setSignupError","profileInputs","history","useHistory","loginHelper","then","res","_id","push","response","dist","Column","components_FormField_FormField","components_FormControl_FormControl","firstName","placeholder","lastName","email","components_FormIcon_FormIcon","components_StatesDropdown_StatesDropdown","zipCode","style","width","onClick","e","preventDefault","newUser","current","username","address","city","password","forEach","input","delete","errors","components_FormHelp_FormHelp","LogoutButton","SignUpButton","react_router_dom","to","Nav","location","useLocation","color","Brand","Item","activeClassName","Burger","Menu","Container","position","marginLeft","src","components_LogoutButton_LogoutButton","pathname","components_SignUpButton","NavLogin","usernameLoginRef","passwordLoginRef","loginInputs","loginErrorState","setLoginError","error","marginTop","Signup","components_Nav_Nav","signup","components_NavLogin_NavLogin","components_UserForm_UserForm","href","title","SearchBar","search","onChange","handleInputChange","name","reference","handleSearch","Hero","searchTermRef","data-target","components_SearchBar","localStorage","setItem","Home","useEffect","components_Hero","kind","renderAs","notification","link","option","Columns","Card","data-id","handleItemClick","img","alt","itemName","price","Title","colorClass","data-direction","data-category","handleScrollClick","Listings","filterRef","setAllItems","searchTerm","setFilter","removeItem","allItems","_useState3","_useState4","filter","_useState5","toConsumableArray","_useState6","filtered","setFiltered","_useState7","_useState8","electonicsItems","setElectronicsItems","_useState9","_useState10","eventItems","setEventItems","_useState11","_useState12","homeImpovementItems","setHomeImprovementItems","_useState13","_useState14","kitchenItems","setKitchenItems","_useState15","_useState16","miscItems","setMiscItems","_useState17","_useState18","recreationItems","setRecreationItems","_useState19","_useState20","yardItems","setYardItems","_useState21","_useState22","filterType","setFilterType","lowercaseFilter","toLowerCase","filterKeyword","RegExp","filteredListings","item","test","parseInt","category","yardCategoryRef","allCategoryRef","kitchenCategoryRef","homeCategoryRef","electronicsCategoryRef","eventsCategoryRef","miscCategoryRef","recreationCategoryRef","target","element","direction","getAttribute","scrollBy","top","left","behavior","nameFilterCheck","handlePageChangeOnItemClick","components_Columns_Columns","components_Column_Column","htmlFor","checked","components_Title_Title","length","components_Card","Field","DropdownMenu","setSelected","extraFunction","items","ItemImage","image","data-cloudinary-field","data-form-data","uploadImage","ListingPage","setImage","lat","setLat","lng","setLng","setCategory","locationPref","setLocationPref","itemNameRef","descriptionRef","priceRef","streetRef","zipcodeRef","currentPage","components_Field_Field","Dropdown","selectedCategory","locationValue","navigator","geolocation","getCurrentPosition","geolocateLat","coords","latitude","toFixed","geolocateLng","longitude","Fragment","maxlength","components_ItemImage_ItemImage","files","formData","FormData","append","uploadImageToDB","secure_url","ownerId","description","fullAddress","coordinates","pendingRequest","isRented","active","alert","cb","addressState","zipcode","results","geometry","fetch","json","ItemRequestForm","useParams","startDate","setStartDate","endDate","setEndDate","react_datepicker_min_default","showPopperArrow","date","placeholderText","minDate","appointment","renterId","setTimeout","appointmentInfo","appointments","MessageOwnerButton","ItemInfo","owner","setOwner","MessageOwnerButton_MessageOwnerButton","ItemRequestForm_ItemRequestForm","WrapperMap","withScriptjs","withGoogleMap","lib","defaultZoom","defaultCenter","radius","options","strokeColor","ItemMap","height","googleMapURL","loadingElement","containerElement","mapElement","ItemPage","ItemInfo_ItemInfo","NavTabs","tabs","tab","data-page","handlePageChange","ProfileItemContainer","ReturnButton","SuccessButton","RejectButton","Profile","requests","setRequests","rentals","setRentals","returns","setReturns","filterRequests","array","filteredItems","filterRentals","filterReturns","handleItemReturn","status","returnItem","filterOffItem","handleConfirmReturned","requestId","confirmReturn","appointmentData","appointmendId","currentAppointment","removeRental","owned","handleAccept","approveRental","addRental","handleReject","declineRental","userId","components_NavTabs_NavTabs","nextPage","rental","components_ProfileItemContainer","components_ReturnButton","components_MessageOwnerButton","request","components_SuccessButton","data-renterid","renterUserId","components_RejectButton","class","images","UpdateProfile","selectedIcon","setIcon","updateUserState","handleIconSelect","defaultValue","updatedUser","EditProfile","components_UpdateProfile_UpdateProfile","App","UserContext_UserProvider","react_router","exact","path","component","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","render","src_App","document","getElementById","URL","process","origin","addEventListener","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.9cd3a1d1.chunk.js","sourcesContent":["export const SET_USER = \"UPDATE_USER\";\r\nexport const CLEAR_USER = \"CLEAR_USER\";","import React, { createContext, useReducer, useContext } from \"react\";\r\nimport {\r\n  SET_USER,\r\n  CLEAR_USER\r\n} from \"./UserActions\";\r\n\r\nconst StoreContext = createContext();\r\nconst { Provider } = StoreContext;\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            };\r\n        case CLEAR_USER:\r\n            return {}\r\n        default : \r\n            return;\r\n    }\r\n}\r\n\r\nconst UserProvider = ({ value = [], ...props }) => {\r\n    const [state, dispatch] = useReducer(reducer, {});\r\n\r\n    return <Provider value={[state, dispatch]} {...props} />;\r\n}\r\n\r\nconst useStoreContext = () => {\r\n    return useContext(StoreContext);\r\n};\r\n\r\nexport { UserProvider, useStoreContext};\r\n","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst FormField = (props) => {\r\n    return (\r\n        <div className={`field ${props.fieldClass ? props.filedClass : \"\"}`}>\r\n            <label className=\"label\">{props.label ? props.label : \"\"}</label>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormField;","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst FormControl = (props) => {\r\n    return (\r\n        <div className={`control ${props.controlClass ? props.controlClass : \"\"}`}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormControl;","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst FormIcon= (props) => {\r\n    return (\r\n        <span className={`icon is-${props.size} is-${props.side}`}>\r\n            <i className={`fas fa-${props.icon}`}></i>\r\n        </span>\r\n    )\r\n}\r\n\r\nexport default FormIcon; ","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst FormHelp = (props) => {\r\n    return (\r\n        <p className={`help is-${props.type}`}>{props.message}</p>\r\n    )\r\n}\r\n\r\nexport default FormHelp;","import React from 'react';\r\nimport { Dropdown } from \"react-bulma-components\";\r\n\r\nconst StatesDropdown = (props) => {\r\n\r\n    const stateCodes = [ 'AL', 'AK', 'AS', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'DC', 'FM', 'FL', 'GA', 'GU', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MH', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'MP', 'OH', 'OK', 'OR', 'PW', 'PA', 'PR', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VI', 'VA', 'WA', 'WV', 'WI', 'WY' ];\r\n\r\n    return(\r\n        <div className=\"select\">\r\n            <select ref={props.stateRef}>\r\n                <option value='default' disabled>Select State</option>\r\n                { stateCodes.map(state => {\r\n                    return <option key={ state } value={ state } selected={ state === props.defaultState ? true : false}> { state } </option>\r\n                }) }\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default StatesDropdown;","import axios from 'axios';\r\n\r\n\r\n//get username and id for currently logged in user\r\nexport const getCurrentUser = () => {\r\n    return axios.get('/api/passport/user_data');\r\n}\r\n\r\n//get profile data for matching userId\r\n    // owned and rented are arrays of Item Objects\r\nexport const getProfile = (id) => {\r\n    return axios.get('api/profile/' + id);\r\n}\r\n\r\n//get profile data for all users \r\n    // owned and rented are arrays of Item ObjectId\r\nexport const getAllProfiles = () => {\r\n    return axios.get('api/profile/users');\r\n}\r\n\r\nexport const getAllItems = () => {\r\n    return axios.get('/api/items/all');\r\n}\r\n\r\nexport const getAllUnrentedItems = () => {\r\n    return axios.get('/api/items/all/unrented');\r\n}\r\n\r\nexport const getItem = (id) => {\r\n    return axios.get('/api/items/' + id)\r\n}\r\n\r\nexport const renterRequest = (id, appointmentId) => {\r\n    return axios.put('http://localhost:3001/api/items/' + id, appointmentId)\r\n}\r\n\r\nexport const rentalApprove = (id) => {\r\n    return axios.put('http://localhost:3001/api/items/' + id + '/rental-approve')\r\n}\r\n\r\nexport const rentalCancel = (id) => {\r\n    return axios.put('/api/appointment/cancel/' + id + '/rental-cancel')\r\n}\r\n\r\n// export const ownerCancel = (renterId, id ) => {\r\n//     return axios.put('/api/appointment/cancel/' + id)\r\n// }\r\n\r\n// Appointment APIs\r\nexport const postAppointment = (data) => {\r\n    return axios.post('/api/appointments', data)\r\n    // .then(res => {\r\n    //     const appointmentId = res.data._id\r\n    //     return axios.put('/api/items/' + id + appointmentId)\r\n    // })\r\n    // .then(response => response.json())\r\n    // .then(res => {\r\n    //     cb(res);\r\n    // })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nexport const removeAppointment = (itemId, appointmentData) => {\r\n    return axios.put(`/api/items/appointments/${itemId}`, appointmentData)\r\n}\r\n\r\nexport const postListing = (data) => {\r\n    return axios.post('/api/items', data);\r\n}\r\n\r\nexport const getCoordinates = (fullAddress, cb) => {\r\n    fetch('https://api.opencagedata.com/geocode/v1/json?q=' + fullAddress + '&key=f8dc0563994c4035af8cbb25cf96dce7&language=en&pretty=1')\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        cb(data);\r\n    })\r\n    .catch(err => console.log(err));\r\n}\r\n\r\nexport const loginUser = (userData) => {\r\n    return axios.post('/api/passport/login', userData);\r\n}\r\n\r\nexport const signupUser = (userData) => {\r\n    return axios.post('/api/passport/signup', userData)\r\n}\r\n\r\nexport const uploadImageToDB = (formData) => {\r\n    return axios.post('https://api.cloudinary.com/v1_1/djz8ibfox/image/upload', formData)\r\n}\r\n\r\nexport const logoutUser = () => {\r\n    return axios.get('/api/passport/logout');\r\n}\r\n\r\nexport const createProfile = (userData) => {\r\n    return axios.post('/api/profile', userData);\r\n}\r\n\r\nexport const updateProfile = (id, userData) => {\r\n    return axios.put('/api/profile/' + id, userData);\r\n}\r\n\r\nexport const addRental = (id, itemId) => {\r\n    return axios.put('/api/profile/rentals/' + id, itemId);\r\n}\r\n\r\nexport const removeRental = (id, itemId) => {\r\n    return axios.put(`/api/profile/rentals/remove/${id}`, itemId)\r\n}\r\n\r\nexport const addRentalHistory = (id, itemId) => {\r\n    return axios.put('/api/profile/history/' + id, itemId);\r\n}\r\n\r\nexport const addOwned = (id, itemId) => {\r\n    return axios.put('/api/profile/owned/' + id, itemId);\r\n}\r\n\r\nexport const deleteUser = (username) => {\r\n    return axios.delete('api/passport/' + username);\r\n}\r\n\r\nexport const approveRental = (id, status) => {\r\n    return axios.put(`/api/items/rentstatus/${id}`, status);\r\n}\r\n\r\nexport const declineRental = (id, status) => {\r\n    return axios.put(`/api/items/pendingstatus/${id}`, status);\r\n}\r\n\r\nexport const returnItem = (id, status) => {\r\n    return axios.put(`/api/items/rentstatus/${id}`, status)\r\n}\r\n\r\nexport const confirmReturn = (id, status) => {\r\n    return axios.put(`/api/items/rentstatus/${id}`, status)\r\n}","import React, { useRef, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport FormField from \"../FormField/FormField\";\r\nimport FormControl from \"../FormControl/FormControl\";\r\nimport FormIcon from \"../FormIcon/FormIcon\";\r\nimport FormHelp from \"../FormHelp/FormHelp\";\r\nimport StatesDropdown from \"../StatesDropdown/StatesDropdown\";\r\nimport { loginUser, signupUser, getCurrentUser, createProfile, getProfile, deleteUser } from '../../utils/API/API';\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { SET_USER } from \"../../utils/UserContext/UserActions\";\r\nimport { Button, Section, Columns} from \"react-bulma-components\";\r\n\r\n\r\nconst UserForm = (props) => {\r\n    const [state, dispatch] = useStoreContext();\r\n\r\n    const setUserState = (user) => {\r\n        dispatch({\r\n            type: SET_USER,\r\n            user: user\r\n        });\r\n    };\r\n\r\n    //signup refs\r\n    const usernameRef = useRef();\r\n    const passwordRef = useRef();\r\n    const firstNameRef = useRef();\r\n    const lastNameRef = useRef();\r\n    const emailRef = useRef();\r\n    const addressRef = useRef();\r\n    const cityRef = useRef();\r\n    const stateRef = useRef();\r\n    const zipCodeRef = useRef();\r\n\r\n    const [signupErrorState, setSignupError] = useState({ });\r\n\r\n    const profileInputs = [usernameRef, passwordRef, firstNameRef, lastNameRef, emailRef, zipCodeRef, addressRef, cityRef, stateRef];\r\n\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        // for signup\r\n        const newUser = {\r\n            firstName: firstNameRef.current.value,\r\n            lastName: lastNameRef.current.value,\r\n            username: usernameRef.current.value,\r\n            address: addressRef.current.value,\r\n            city: cityRef.current.value,\r\n            state: stateRef.current.value,\r\n            zipCode: zipCodeRef.current.value,\r\n            email: emailRef.current.value,\r\n            password: passwordRef.current.value\r\n        }\r\n\r\n        // for login\r\n        const user = {\r\n            username: usernameRef.current.value,\r\n            password: passwordRef.current.value\r\n        }\r\n\r\n        signupUser(user)\r\n            .then(() => {\r\n                //signup success\r\n                setSignupError({});\r\n                createProfile(newUser)\r\n                    .then(res => {\r\n                        loginHelper(user);\r\n                        // reset form\r\n                        profileInputs.forEach(input => input.current.value = '');\r\n                    })\r\n                    .catch(err => {\r\n                        //delete user from passport if profile create fails\r\n                        deleteUser(newUser.username);\r\n                        setSignupError(err.response.data.err.errors);\r\n                    })\r\n            })\r\n            .catch(err => {\r\n                // signup fail\r\n                setSignupError(err.response.data.err ? err.response.data.err : err.response.data);\r\n            });\r\n    }\r\n\r\n    const loginHelper = (user) => {\r\n        loginUser(user)\r\n        .then(() => {\r\n            // login success -> get user profile -> set user state\r\n            getCurrentUser().then(res => {\r\n                getProfile(res.data.user._id)\r\n                    .then(res => {\r\n                        setUserState(res.data[0]);\r\n                        history.push(\"/\");\r\n                });\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response.data.message);\r\n            })\r\n        });\r\n    };\r\n\r\n    return (\r\n        <Section>\r\n            <div className=\"container notification is-info is-light\">\r\n                <h1>Sign Up!</h1>\r\n                <Columns>\r\n                    <Columns.Column>\r\n                        <FormField label=\"First Name\" >\r\n                            <FormControl>\r\n                                <input className={`input ${signupErrorState.firstName ? \"is-danger\" : \"\"}`} type=\"text\" placeholder=\"Alex\" ref={firstNameRef} />\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                    <Columns.Column>\r\n                        <FormField label=\"Last Name\">\r\n                            <FormControl>\r\n                                <input className={`input ${signupErrorState.lastName ? \"is-danger\" : \"\"}`} type=\"text\" placeholder=\"Lee\" ref={lastNameRef} />\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                </Columns>\r\n                <FormField label=\"Email\">\r\n                    <FormControl controlClass=\"has-icons-left has-icons-right\">\r\n                        <input\r\n                            className={`input ${signupErrorState.email ? \"is-danger\" : \"\"}`}\r\n                            type=\"email\"\r\n                            placeholder=\"Email input\"\r\n                            ref={emailRef} />\r\n                        <FormIcon size=\"small\" side=\"left\" icon=\"envelope\" />\r\n                        <FormIcon size=\"small\" side=\"right\" icon=\"exclamation-triangle\" />\r\n                    </FormControl>\r\n                </FormField>\r\n                <FormField label=\"Address\">\r\n                    <FormControl>\r\n                        <input className=\"input\" type=\"text\" placeholder=\"5555 N Main St\" ref={addressRef} />\r\n                    </FormControl>\r\n                </FormField>\r\n                <Columns>\r\n                    <Columns.Column>\r\n                        <FormField label=\"City\">\r\n                            <FormControl>\r\n                                <input className=\"input\" type=\"text\" placeholder=\"Seattle\" ref={cityRef} />\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                    <Columns.Column className=\"is-narrow\">\r\n                        <FormField label=\"State\">\r\n                            <FormControl>\r\n                                <StatesDropdown stateRef={stateRef}></StatesDropdown>\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                    <Columns.Column className=\"is-narrow\">\r\n                        <FormField label=\"Zip Code\">\r\n                            <FormControl>\r\n                                <input className={`input ${signupErrorState.zipCode ? \"is-danger\" : \"\"}`} type=\"text\" placeholder=\"98001\" ref={zipCodeRef} />\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                </Columns>\r\n                <FormField label=\"Username\">\r\n                    <FormControl controlClass=\"has-icons-left has-icons-right\">\r\n                        <input\r\n                            className=\"input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Username\"\r\n                            ref={usernameRef} />\r\n                        <FormIcon size=\"small\" side=\"left\" icon=\"user\" />\r\n                        <FormIcon size=\"small\" side=\"right\" icon=\"check\" />\r\n                    </FormControl>\r\n                </FormField>\r\n                <FormField label=\"Password\">\r\n                    <FormControl controlClass=\"has-icons-left has-icons-right\">\r\n                        <input\r\n                            className=\"input\"\r\n                            type=\"password\"\r\n                            placeholder=\"Enter a secure password\"\r\n                            ref={passwordRef} />\r\n                        <FormIcon size=\"small\" side=\"left\" icon=\"lock\" />\r\n                        <FormIcon size=\"small\" side=\"right\" icon=\"exclamation-triangle\" />\r\n                    </FormControl>\r\n                </FormField>\r\n                <div className=\"field\">\r\n                    <Button style={ { width: \"75px\" } } className=\"button is-link\" type=\"submit\" onClick={handleSubmit}>Submit</Button>\r\n                    <FormHelp type=\"danger\" message={signupErrorState ? signupErrorState.message : \"\"} />\r\n                </div>\r\n            </div>\r\n        </Section>\r\n    );\r\n}\r\n\r\nexport default UserForm;","import React from 'react'\r\nimport './styles.css';\r\nimport { logoutUser } from '../../utils/API/API';\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { CLEAR_USER } from \"../../utils/UserContext/UserActions\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst LogoutButton = (props) => {\r\n    const [state, dispatch] = useStoreContext();\r\n    const history = useHistory();\r\n\r\n    const clearUserState = () => {\r\n        dispatch({\r\n            type: CLEAR_USER\r\n        });\r\n    };\r\n    \r\n    const handleLogout = (e) => {\r\n        logoutUser()\r\n            .then(() => {\r\n                clearUserState();\r\n                history.push('/');\r\n            })\r\n    }\r\n\r\n    return (\r\n        <button onClick={handleLogout} className=\"button is-danger\">Logout</button>\r\n    )\r\n}\r\n\r\nexport default LogoutButton;","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst SignUpButton = () => {\r\n    return (\r\n        <NavLink to=\"/signup\" className=\"button is-primary is-inverted\">\r\n            <span>Sign Up</span>\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default SignUpButton;","import React from 'react';\r\nimport { NavLink, useLocation } from \"react-router-dom\";\r\nimport './styles.css';\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport {Navbar} from 'react-bulma-components';\r\nimport LogoutButton from \"../LogoutButton/LogoutButton\";\r\nimport SignUpButton from '../SignUpButton';\r\n\r\nconst Nav = (props) => {\r\n    const [state, dispatch] = useStoreContext();\r\n\r\n    let location = useLocation();\r\n\r\n\r\n    const renderProfile = () => {\r\n            return (\r\n                <Navbar.Item>\r\n                    <NavLink to=\"/profile\" className=\"inactive\" activeClassName=\"is-active\">Profile</NavLink>\r\n                </Navbar.Item>\r\n            );\r\n    }\r\n\r\n    const renderSignUp = () => {\r\n        return (\r\n            <Navbar.Item>\r\n                <SignUpButton />\r\n            </Navbar.Item>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Navbar\r\n            color = \"primary\"\r\n            className=\"is-fixed-top\"\r\n        >\r\n            <Navbar.Brand>\r\n                <Navbar.Item>\r\n                    <NavLink to=\"/\" className=\"inactive\" activeClassName=\"is-active\"><h1>SHAREISH</h1></NavLink>\r\n                </Navbar.Item>\r\n                <Navbar.Burger/>\r\n            </Navbar.Brand>\r\n            <Navbar.Menu>\r\n                <Navbar.Container>\r\n                    <Navbar.Item>\r\n                        {state.user ? state.user.username : \"Guest\"}\r\n                    </Navbar.Item>\r\n                    <Navbar.Item>\r\n                        {state.user ? \"\" : <NavLink to=\"/newlisting\" className=\"inactive\" activeClassName=\"is-active\">Post a Listing</NavLink>}\r\n                    </Navbar.Item>\r\n                </Navbar.Container>\r\n                <Navbar.Container>\r\n                    {props.children}\r\n                </Navbar.Container>\r\n                <Navbar.Container position=\"end\">\r\n                    <NavLink className=\"navbar-item\" to=\"/profile\">{ state.user ? state.user.username : \"\"}<img style={ { marginLeft: \"10px\"} } src={state.user ? state.user.icon : \"\"} /></NavLink> \r\n                    <div className=\"navbar-item\">\r\n                        {state.user ? <LogoutButton /> : location.pathname !== \"/signup\" ? <SignUpButton /> : <div></div> }\r\n                    </div>\r\n                    {/* {state.user ? renderProfile : \"\"}\r\n                    <Navbar.Item>\r\n                        <span>{location.pathname}</span>\r\n                    </Navbar.Item>\r\n                    {location.pathname != \"/signup\" ? renderSignUp : \"\"} */}\r\n                </Navbar.Container>\r\n            </Navbar.Menu>\r\n        </Navbar>      \r\n    );\r\n}\r\n\r\nexport default Nav;","import React, {useRef, useState } from 'react'\r\nimport { useHistory, StaticRouter } from 'react-router-dom';\r\nimport FormField from \"../FormField/FormField\";\r\nimport FormControl from \"../FormControl/FormControl\";\r\nimport { Button, Columns} from \"react-bulma-components\";\r\nimport FormIcon from \"../FormIcon/FormIcon\";\r\nimport {loginUser, getCurrentUser, getProfile} from '../../utils/API/API';\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { SET_USER } from \"../../utils/UserContext/UserActions\";\r\n\r\nconst NavLogin = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n\r\n    const setUserState = (user) => {\r\n        dispatch({\r\n            type: SET_USER,\r\n            user: user\r\n        });\r\n    };\r\n        \r\n    // login refs\r\n    const usernameLoginRef = useRef();\r\n    const passwordLoginRef = useRef();\r\n    const loginInputs = [usernameLoginRef, passwordLoginRef];\r\n\r\n    // error context\r\n    const [loginErrorState, setLoginError] = useState({});\r\n\r\n    // handle redirect\r\n    const history = useHistory();\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        const user = {\r\n            username: usernameLoginRef.current.value,\r\n            password: passwordLoginRef.current.value\r\n        }\r\n\r\n        loginUser(user)\r\n            .then(res => {\r\n                // login success  -> get user profile -> set user state\r\n                setLoginError({ error: false});\r\n                getCurrentUser().then(res => {\r\n                    getProfile(res.data.user._id)\r\n                        .then(res => {\r\n                            setUserState(res.data[0]);\r\n                            history.push(\"/\");\r\n                    });\r\n                });\r\n            })\r\n            .catch(err => {\r\n                setLoginError({ error: true, message: err.message });\r\n            })\r\n\r\n        // reset form\r\n        loginInputs.forEach(input => input.current.value = '' );           \r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <Columns>\r\n                <Columns.Column>\r\n                    <FormField fieldClass=\"is-horizontal\">\r\n                        <FormControl controlClass=\"has-icons-left\">\r\n                            <input \r\n                                className={`input ${ loginErrorState.error ? \"is-danger\" : \"\" }`}\r\n                                type=\"text\"\r\n                                placeholder=\"Username\"\r\n                                ref={usernameLoginRef} />\r\n                            <FormIcon size=\"small\" side=\"left\" icon=\"user\" />\r\n                        </FormControl>\r\n                    </FormField>\r\n                </Columns.Column>\r\n                <Columns.Column>\r\n                    <FormField fieldClass=\"is-horizontal\">\r\n                        <FormControl controlClass=\"has-icons-left has-icons-right\">\r\n                            <input \r\n                                className={`input ${ loginErrorState.error ? \"is-danger\" : \"\" }`}\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                                ref={passwordLoginRef} />\r\n                            <FormIcon size=\"small\" side=\"left\" icon=\"lock\" />\r\n                            <FormIcon size=\"small\" side=\"right\" icon=\"exclamation-triangle\" />\r\n                        </FormControl>\r\n                    </FormField>\r\n                </Columns.Column>\r\n                <Columns.Column className=\"is-narrow\">\r\n                    <Button style={ { width: \"75px\", marginTop: \"8px\"} } className=\"button is-info\" onClick={handleLogin}>Log In</Button>\r\n                </Columns.Column>\r\n            </Columns>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavLogin;","import React from 'react'\r\nimport UserForm from '../../components/UserForm/UserForm';\r\nimport Nav from '../../components/Nav/Nav';\r\nimport NavLogin from '../../components/NavLogin/NavLogin';\r\n\r\nconst Signup = () => {\r\n    return (\r\n        <div className='signup-page'>\r\n            <Nav signup = {true}>\r\n                <NavLogin />\r\n            </Nav>\r\n            <UserForm />\r\n            <div>Icons made by <a href=\"https://www.flaticon.com/authors/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/\"     title=\"Flaticon\">www.flaticon.com</a></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport { Container } from \"react-bulma-components\";\r\nimport \"./styles.css\";\r\n\r\nfunction SearchBar(props) {\r\n    // const [state, setState] = useState();\r\n    return (\r\n        <Container>\r\n            <form className=\"tile field has-addons\">\r\n                <div className=\"control is-expanded\">\r\n                    <input \r\n                        className=\"input\"\r\n                        value={props.search}\r\n                        onChange={props.handleInputChange}\r\n                        name=\"term\"\r\n                        type=\"text\"\r\n                        placeholder=\"What are you looking for?\"\r\n                        id=\"term\"\r\n                        ref={props.reference}\r\n                    />\r\n                </div>\r\n                <div className=\"control\">\r\n                    <button className=\"button is-info\" onClick={props.handleSearch}>\r\n                        <span className=\"icon\">\r\n                            <i className=\"fas fa-search\"></i>\r\n                        </span>\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </Container>\r\n    );\r\n}\r\n\r\nexport default SearchBar;","import React, { useRef } from \"react\";\r\nimport \"./styles.css\";\r\nimport SearchBar from \"../SearchBar\";\r\nimport { Navbar } from \"react-bulma-components\";\r\n\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport SignUpButton from \"../SignUpButton\";\r\nimport LogoutButton from \"../LogoutButton/LogoutButton\";\r\n\r\nfunction Hero(props) {\r\n\r\n    const [state, dispatch] = useStoreContext();\r\n    const location = useLocation();\r\n\r\n    const searchTermRef = useRef();\r\n    const history = useHistory();\r\n\r\n    const handleSearch = (e) => {\r\n        e.preventDefault();\r\n\r\n        console.log(searchTermRef.current.value);\r\n        localStorage.setItem('searchTerm', searchTermRef.current.value);\r\n        history.push('/listings');\r\n    }\r\n\r\n\r\n    const renderLogoutButton = () => {\r\n        if (!state.user) {\r\n            return (\r\n                <Navbar.Item dropdown hoverable href=\"/profile\">\r\n                    <Navbar.Link arrowless={true} className=\"profile\">\r\n                        Profile\r\n                    </Navbar.Link>\r\n                    <Navbar.Dropdown>\r\n                        <Navbar.Item>\r\n                            <LogoutButton />\r\n                        </Navbar.Item>\r\n                    </Navbar.Dropdown>\r\n                </Navbar.Item>\r\n            );\r\n        } \r\n    }\r\n    \r\n    return (\r\n        <section className=\"hero is-primary is-small is-mobile\">\r\n            {/* <!-- Hero head: will stick at the top --> */}\r\n            <div className=\"hero-head\"> \r\n                <nav className=\"navbar\">\r\n                    <div className=\"container\">\r\n                        <div className=\"navbar-brand\">\r\n                        <NavLink to=\"/\"className=\"navbar-item\">\r\n                            {/* <img src=\"https://bulma.io/images/bulma-type-white.png\" alt=\"Logo\" /> */}\r\n                        </NavLink>\r\n                        {/* need to figure out how to get navbar to show in mobile */}\r\n                        <span className=\"navbar-burger burger\" data-target=\"navbarMenuHeroA\">\r\n                            <span></span>\r\n                            <span></span>\r\n                            <span></span>\r\n                        </span>\r\n                        </div>\r\n                        <div id=\"navbarMenuHeroA\" className=\"navbar-menu\">\r\n                            <div className=\"navbar-end\">\r\n                                {/* <NavLink to=\"/listings\" className=\"navbar-item\" activeClassName=\"is-active\">Browse</NavLink>\r\n                                {/* <NavLink to=\"/profile\" className=\"navbar-item\" activeClassName=\"is-active\">Profile</NavLink> */}\r\n                                {/* {state.user ? renderLogoutButton : <Navbar.Item><SignUpButton /></Navbar.Item>} */}\r\n                                <NavLink to=\"/\"className=\"navbar-item\">\r\n                                    Home\r\n                                </NavLink>\r\n                                <NavLink to=\"/listings\"className=\"navbar-item\">\r\n                                    Browse\r\n                                </NavLink>\r\n                                <NavLink to=\"/profile\"className=\"navbar-item\" disabled>\r\n                                    Profile\r\n                                {/* <NavLink to=\"/profile\" activeClassName=\"is-active\">Profile</NavLink> */}\r\n                                </NavLink>\r\n                                <span className=\"navbar-item\">\r\n                                    {state.user ? <LogoutButton /> : <SignUpButton />}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n\r\n            {/* <!-- Hero content: will be in the middle --> */}\r\n            <div className=\"hero-body\">\r\n                <div className=\"container has-text-centered\">\r\n                <h1 className=\"title\">\r\n                    Shareish!\r\n                </h1>\r\n                <h2 className=\"subtitle\">\r\n                    share what you cherish\r\n                </h2>\r\n                </div>\r\n                <br></br>\r\n                <SearchBar reference={searchTermRef} handleSearch={handleSearch}/>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Hero;","import React, { useState, useEffect } from 'react';\r\nimport './styles.css';\r\n\r\n//user context\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { SET_USER } from \"../../utils/UserContext/UserActions\";\r\nimport {getCurrentUser, getProfile} from '../../utils/API/API';\r\n\r\n//pages\r\nimport Hero from '../../components/Hero';\r\nimport { Section, Container, Tile, Heading, Columns } from \"react-bulma-components\";\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nconst Home = () => {\r\n    // initialize user state -- checks if there is a user logged in \r\n    const [state, dispatch] = useStoreContext();\r\n    const options = [\r\n        {\r\n            message: \"Post a Listing\",\r\n            color: \"is-primary is-light is-outlined\",\r\n            link:\"newlisting\"\r\n        },\r\n        {\r\n            message:\"Browse Listings\",\r\n            color: \"is-primary\",\r\n            link: \"listings\"\r\n        },\r\n        {\r\n            message: \"View Your Profile\",\r\n            color: \"is-primary is-light is-outlined\",\r\n            link: \"profile\"\r\n        }\r\n    ];\r\n    \r\n    // grab user data from profile?\r\n    const setUserState = (user) => {\r\n        dispatch({\r\n            type: SET_USER,\r\n            user: user\r\n        });\r\n        console.log(user);\r\n    };\r\n    \r\n    useEffect(()=>{\r\n        if (!state.user) {\r\n            getCurrentUser().then(res => {\r\n                if (res.data.user) {\r\n                    getProfile(res.data.user._id)\r\n                        .then(res => {\r\n                            setUserState(res.data[0]);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }, []);\r\n    \r\n    return (\r\n        <div>\r\n            <div className = 'navbar is-fixed-top is-primary'>\r\n            </div>\r\n            <Hero />\r\n            <Section>\r\n                <Tile\r\n                    kind=\"ancestor\"\r\n                >\r\n                    <Tile kind=\"parent\">\r\n                        <Tile renderAs=\"article\" kind=\"child\" notification>\r\n                        <Heading className=\"has-text-centered\">{state.user ? `Welcome, ${state.user.username}!` : \"Welcome!\"}</Heading>\r\n                        </Tile>\r\n                    </Tile>\r\n                </Tile>\r\n            </Section>\r\n            <Section>\r\n                <Container>\r\n                    <Columns>\r\n                        {options.map(option =>  \r\n                            <Columns.Column>\r\n                                <Link to={\"/\" + option.link} activeClassName=\"is-active\">\r\n                                    <div key={option.link} className={\"notification has-text-centered \" + option.color}>\r\n                                    {option.message}\r\n                                    </div>    \r\n                                </Link> \r\n                            </Columns.Column>\r\n                        )}\r\n                    </Columns>\r\n                </Container>\r\n            </Section>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst Columns = (props) => {\r\n    return (\r\n        <div className={`columns ${props.size ? props.size : ''}`} ref={props.reference} id={props.id}{...props}/>\r\n    )\r\n}\r\n\r\nexport default Columns;","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst Column = (props) => {\r\n    return (\r\n        <div className = {`column ${props.size ? props.size: '' }`} {...props} />\r\n    )\r\n}\r\n\r\nexport default Column;","import React from \"react\";\r\nimport './styles.css';\r\n\r\nfunction Card(props) {\r\n    return (\r\n        <div className={\"box\"} key={props._id} data-id={props.itemId} onClick={props.handleItemClick}>\r\n            <figure className=\"image is-156x156\">\r\n                <img data-id={props.itemId}src={props.img} alt =''></img>\r\n            </figure>\r\n            <h2 data-id={props.itemId}>{props.itemName}</h2>\r\n            <h2 data-id={props.itemId}>${props.price}/day</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst Title = (props) => {\r\n    return (\r\n        <div className={`title level notification ${props.colorClass}`}>\r\n            <span className='link-offset' id={props.id}></span>\r\n            <p className=\"title\">\r\n                {props.title}\r\n            </p>\r\n            <button className=\"scroll-btn scroll-left\" data-direction='left' data-category={props.title} onClick={props.handleScrollClick}>\r\n                <span className=\"icon is-small\" data-direction='left' data-category={props.title} onClick={props.handleScrollClick}>\r\n                    <i className=\"fas fa-angle-left\" data-direction='left' data-category={props.title} onClick={props.handleScrollClick}></i>\r\n                </span>\r\n            </button>\r\n            <button className=\"scroll-btn scroll-right\" data-direction='right' data-category={props.title} onClick={props.handleScrollClick}>\r\n                <span className=\"icon is-small\" data-direction='right' data-category={props.title} onClick={props.handleScrollClick}>\r\n                    <i className=\"fas fa-angle-right\" data-direction='right' data-category={props.title} onClick={props.handleScrollClick}></i>\r\n                </span>\r\n            </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Title;","import React, {useRef, useState, useEffect, useContext} from 'react'\r\nimport './styles.css';\r\nimport Nav from '../../components/Nav/Nav';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Columns from '../../components/Columns/Columns';\r\nimport Column from '../../components/Column/Column';\r\nimport Card from '../../components/Card/index';\r\nimport Title from '../../components/Title/Title';\r\nimport {getAllUnrentedItems, getAllItems} from '../../utils/API/API';\r\n\r\nconst Listings = (props) => {\r\n    const filterRef = useRef();\r\n\r\n    useEffect(() => {\r\n        console.log('happened')\r\n        getAllUnrentedItems()\r\n        .then(res => {\r\n            console.log(res.data);\r\n            console.log('function happened')\r\n            setAllItems(res.data);\r\n        })\r\n        .catch(err => console.log(err))\r\n        const searchTerm = localStorage.getItem('searchTerm');;\r\n        setFilter(searchTerm);\r\n        filterRef.current.value = searchTerm;\r\n        localStorage.removeItem('searchTerm');\r\n    }, [])\r\n\r\n    const [allItems, setAllItems] = useState([])\r\n    const [filter, setFilter] = useState();\r\n    const [filtered, setFiltered] = useState([...allItems]);\r\n    const [electonicsItems, setElectronicsItems] = useState([])\r\n    const [eventItems, setEventItems] = useState([]);\r\n    const [homeImpovementItems, setHomeImprovementItems] = useState([]);\r\n    const [kitchenItems, setKitchenItems] = useState([]);\r\n    const [miscItems, setMiscItems] = useState([]);\r\n    const [recreationItems, setRecreationItems] = useState([]);\r\n    const [yardItems, setYardItems] = useState([]);\r\n    const [filterType, setFilterType] = useState('name');\r\n\r\n    useEffect(()=> {\r\n        switch(filterType){\r\n            case 'name':\r\n                let lowercaseFilter;\r\n                if(filter) {\r\n                    lowercaseFilter = filter.toLowerCase();\r\n                }\r\n                const filterKeyword = new RegExp(lowercaseFilter);\r\n                let filteredListings = allItems.filter(item => {\r\n                    return filterKeyword.test(item.name.toLowerCase());\r\n                });\r\n                setFiltered(filteredListings);\r\n            break;\r\n            case 'price':\r\n                if(!filter){\r\n                    setFiltered(allItems);\r\n                } else{\r\n                filteredListings = allItems.filter(item => {\r\n                    return parseInt(item.price) <= parseInt(filter);\r\n                })\r\n                setFiltered(filteredListings);\r\n                }\r\n            break;\r\n            default:\r\n                setFiltered(allItems);\r\n        }\r\n    }, [filter, allItems, filterType])\r\n\r\n    useEffect(()=>{\r\n        let filteredListings = filtered.filter(item => {\r\n            return item.category === 'Electronics'\r\n        })\r\n        setElectronicsItems(filteredListings)\r\n    }, [filtered, filter])\r\n\r\n    useEffect(()=>{\r\n        let filteredListings = filtered.filter(item => {\r\n            return item.category === 'Events'\r\n        })\r\n        setEventItems(filteredListings)\r\n    }, [filtered])\r\n\r\n    useEffect(()=>{\r\n        let filteredListings = filtered.filter(item => {\r\n            return item.category === 'Home Improvement'\r\n        })\r\n        setHomeImprovementItems(filteredListings)\r\n    }, [filtered])\r\n\r\n    useEffect(()=>{\r\n        let filteredListings = filtered.filter(item => {\r\n            return item.category === 'Kitchen Appliances'\r\n        })\r\n        setKitchenItems(filteredListings)\r\n    }, [filtered])\r\n\r\n    useEffect(()=>{\r\n        let filteredListings = filtered.filter(item => {\r\n            return item.category === 'Miscellaneous'\r\n        })\r\n        setMiscItems(filteredListings)\r\n    }, [filtered])\r\n\r\n    useEffect(()=>{\r\n        let filteredListings = filtered.filter(item => {\r\n            return item.category === 'Recreation'\r\n        })\r\n        setRecreationItems(filteredListings)\r\n    }, [filtered])\r\n\r\n    useEffect(()=>{\r\n        let filteredListings = filtered.filter(item => {\r\n            return item.category === 'Yardwork'\r\n        })\r\n        setYardItems(filteredListings)\r\n    }, [filtered])\r\n\r\n    const yardCategoryRef = useRef();\r\n    const allCategoryRef = useRef();\r\n    const kitchenCategoryRef = useRef();\r\n    const homeCategoryRef = useRef();\r\n    const electronicsCategoryRef = useRef();\r\n    const eventsCategoryRef = useRef();\r\n    const miscCategoryRef = useRef();\r\n    const recreationCategoryRef = useRef();\r\n\r\n    const handleScrollClick = (e) => {\r\n        console.log(e.target);\r\n        const direction = e.target.getAttribute('data-direction');\r\n        const category = e.target.getAttribute('data-category');\r\n        console.log(category);\r\n        let element;\r\n        switch(category){\r\n            case 'All':\r\n                element = allCategoryRef;\r\n            break;\r\n            case 'Electronics':\r\n                element = electronicsCategoryRef;\r\n            break;\r\n            case 'Events':\r\n                element = eventsCategoryRef;\r\n            break;\r\n            case 'Yardwork':\r\n                element = yardCategoryRef;\r\n            break;\r\n            case 'Kitchen Appliances':\r\n                element = kitchenCategoryRef;\r\n            break;\r\n            case 'Home Improvement':\r\n                element = homeCategoryRef;\r\n            break;\r\n            case 'Miscellaneous':\r\n                element = miscCategoryRef;\r\n            break;\r\n            case 'Recreation':\r\n                element = recreationCategoryRef;\r\n            break;\r\n            default:\r\n                element = allCategoryRef;\r\n        }\r\n        switch(direction){\r\n            case 'left':\r\n                element.current.scrollBy({\r\n                    top: 0, \r\n                    left: -400,\r\n                    behavior: 'smooth'\r\n                });\r\n            break;\r\n            case 'right':\r\n                element.current.scrollBy({\r\n                    top: 0, \r\n                    left: 400,\r\n                    behavior: 'smooth'\r\n                });\r\n            break;\r\n            default:\r\n                console.log('nothing happened');\r\n        };\r\n    };\r\n\r\n    const history = useHistory();\r\n\r\n    const nameFilterCheck = (e) => {\r\n        setFilterType(e.target.value);\r\n    }\r\n\r\n    const handlePageChangeOnItemClick = (e) => {\r\n        console.log(e.target);\r\n        const id = e.target.getAttribute('data-id')\r\n        console.log(id);\r\n        history.push(`/items/${id}`);\r\n    }\r\n\r\n\r\n    return (\r\n            <div className='listings-page'>\r\n                <Nav />\r\n                <section className = 'section'>\r\n                    <Columns>\r\n                        <Column size='is-2'>\r\n                            <div className='sidebar'>\r\n                                <p>Select filter type</p>\r\n                                {filterType === 'price' ?\r\n                                <ul id='filters'>\r\n            \r\n                                    <li>\r\n                                    <input type='radio' id='nameFilter' value='name' name='filter'onChange={nameFilterCheck}></input>\r\n                                    <label htmlFor='nameFilter'>Name</label>\r\n                                    </li>\r\n                                    <li>\r\n                                    <input type='radio' id='priceFilter' value='price' name='filter' onChange={nameFilterCheck} checked></input>\r\n                                    <label htmlFor='priceFilter'>Price</label>\r\n                                    </li>\r\n                                </ul>\r\n                                     :\r\n                                <ul id='filters'>\r\n                                    <li>\r\n                                        <input type='radio' id='nameFilter' value='name' name='filter' checked onChange={nameFilterCheck}></input>\r\n                                        <label htmlFor='nameFilter'>Name</label>\r\n                                    </li>\r\n                                    <li>\r\n                                        <input type='radio' id='priceFilter' value='price' name='filter' onChange={nameFilterCheck}></input>\r\n                                        <label htmlFor='priceFilter'>Price</label>\r\n                                    </li>\r\n                                </ul>}\r\n                                \r\n                                {/* <label>Filter:</label> */}\r\n                                \r\n                                <input type='text' id='filter' ref={filterRef} onChange={e => setFilter(e.target.value)}></input>\r\n                                <hr></hr>\r\n                            <div className=\"title is-4\">\r\n                                Category List\r\n                            </div>\r\n                            <div className=''>\r\n                                <li><a href='#all'>All</a></li>\r\n                                <li><a href='#electronics'>Electronics</a></li>\r\n                                <li><a href='#events'>Events</a></li>\r\n                                <li><a href='#home-imp'>Home Improvement</a></li>\r\n                                <li><a href='#kitchen'>Kitchen Appliances</a></li>\r\n                                <li><a href='#misc'>Miscellaneous</a></li>\r\n                                <li><a href='#recreation'>Recreation</a></li>\r\n                                <li><a href='#yard'>Yardwork</a></li>\r\n                            </div>\r\n                            </div>\r\n                        </Column>\r\n                        <Column>\r\n                            <Title title='All' colorClass='is-info' id='all' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={allCategoryRef}>\r\n                                {/* <Column>\r\n                                    <button><span class=\"icon is-small\">\r\n                                        <i class=\"fas fa-angle-left\"></i>\r\n                                    </span></button>\r\n                                </Column> */}\r\n                                {filtered.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : filtered.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                            <Title title='Electronics' colorClass='is-danger' id='electronics' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={electronicsCategoryRef}>\r\n                            {electonicsItems.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : electonicsItems.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                        {/* <ItemCard img={item.img} itemName={item.name} id={item.id} handleItemClick={props.handleItemClick}/> */}\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                            <Title title='Events' colorClass='is-primary' id='events' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={eventsCategoryRef}>\r\n                                {eventItems.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : eventItems.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                            <Title title='Home Improvement' colorClass='is-info' id='home-imp' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={homeCategoryRef}>\r\n                                {homeImpovementItems.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : homeImpovementItems.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                            <Title title='Kitchen Appliances' colorClass='is-danger' id='kitchen' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={kitchenCategoryRef}>\r\n                                {kitchenItems.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : kitchenItems.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                            <Title title='Miscellaneous' colorClass='is-primary' id='misc' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={miscCategoryRef}>\r\n                                {miscItems.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : miscItems.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                            <Title title='Recreation' colorClass='is-info' id='recreation' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={recreationCategoryRef}>\r\n                                {recreationItems.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : recreationItems.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                            <Title title='Yardwork' colorClass='is-danger' id='yard' handleScrollClick={handleScrollClick}/>\r\n                            <Columns size='carousel' reference={yardCategoryRef}>\r\n                                {yardItems.length < 1 ? <h1 className='nomatch'>No Matches Found</h1> : yardItems.map(item => (\r\n                                    <Column size='is-2 carousel-item'>\r\n                                        <Card handleItemClick={handlePageChangeOnItemClick} itemId={item._id} price={item.price} img={item.img} itemName={item.name} id={item._id}></Card>\r\n                                    </Column>\r\n                                ))}\r\n                            </Columns>\r\n                        </Column>\r\n                    </Columns>\r\n                </section>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Listings;","import React from 'react'\r\nimport './styles.css';\r\n\r\nconst Field = (props) => {\r\n    return (\r\n        <div className = 'field'>\r\n            <label className=\"label\">{props.title}</label>\r\n                <div className=\"control\">\r\n                    <input className=\"input\" type=\"text\" placeholder={props.placeholder} ref={props.reference} {...props}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Field","import React, {useState} from 'react'\r\nimport './styles.css';\r\nimport 'react-bulma-components/dist/react-bulma-components.min.css';\r\nimport {Dropdown} from 'react-bulma-components';\r\n\r\nconst DropdownMenu = (props) => {\r\n    const [selected, setSelected] = useState('');\r\n    const handleDropdownChange = (e) => {\r\n        setSelected(e);\r\n        if(props.extraFunction){\r\n            props.extraFunction(e);\r\n        }\r\n    }\r\n    return(\r\n        <Dropdown label={props.label} onChange={handleDropdownChange} value={selected}>\r\n            {props.items.map(item => (\r\n                <Dropdown.Item value={item}>\r\n                    {item}\r\n                </Dropdown.Item>\r\n            ))}\r\n            {/* <Dropdown.Item value=\"item\" >\r\n                Dropdown item\r\n            </Dropdown.Item>\r\n            <Dropdown.Divider />\r\n            <Dropdown.Item value='item2' >\r\n                Item 2\r\n            </Dropdown.Item> */}\r\n        </Dropdown>\r\n        \r\n    )\r\n}\r\n\r\nexport default DropdownMenu;","import React, { useState } from 'react';\r\nimport axios from 'axios'; \r\nimport './styles.css';\r\n\r\nconst ItemImage = (props) => {\r\n    // const [image, setImage] = useState('');\r\n    // const [loading, setLoading] = useState(true);\r\n\r\n    // const uploadImage = (e) => {\r\n    //     const files = e.target.files[0];\r\n    //     const formData = new FormData();\r\n    //     formData.append('upload_preset', 'sharemasters');\r\n    //     formData.append('file', files);\r\n    //     console.log(files);\r\n    //     console.log(formData);\r\n\r\n    // axios.post('https://api.cloudinary.com/v1_1/djz8ibfox/image/upload', formData)\r\n    // .then(res => {\r\n    //     console.log(res.data);\r\n    //     setImage(res.data.secure_url)\r\n    // })\r\n    // // .then(res => )\r\n    // // .then(setLoading(false))\r\n    // .catch(err => console.log(err));\r\n    // }\r\n\r\n    return(\r\n        <div className=\"container\" >\r\n            {!props.image ? \r\n            <div className=\"file\">\r\n                <label className=\"file-label\">\r\n                    <input name=\"file\" type=\"file\" className=\"file-input\" data-cloudinary-field=\"image_id\" data-form-data=\"{ 'transformation': {'crop':'limit','tags':'samples','width':3000,'height':2000}}\" onChange={props.uploadImage}/>\r\n                    <span className=\"file-cta\">\r\n                        <span className=\"file-icon\">\r\n                            <i className=\"fas fa-upload\"></i>\r\n                        </span>\r\n                        <span className=\"file-label\">\r\n                            Choose File\r\n                        </span>\r\n                    </span>\r\n                </label>\r\n            </div>\r\n            : <img className='item-img' style={{ width: \"200px\"}} src={props.image} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ItemImage;","import React, {useContext, useState, useRef, useEffect} from 'react'\r\nimport './styles.css';\r\nimport Nav from '../../components/Nav/Nav'\r\n// import UserForm from '../../components/UserForm/UserForm';\r\n// import Container from '../../components/Container/Container'\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useStoreContext } from '../../utils/UserContext/UserContext';\r\nimport Field from '../../components/Field/Field';\r\nimport DropdownMenu from '../../components/Dropdown/Dropdown';\r\nimport ItemImage from '../../components/ItemImage/ItemImage';\r\nimport {uploadImageToDB, postListing, getCoordinates, addOwned} from '../../utils/API/API';\r\n\r\n\r\nconst ListingPage = (props) => {\r\n    // const user = useContext(UserContext);\r\n    const [state, dispatch] = useStoreContext();\r\n    const [image, setImage] = useState('');\r\n    const history = useHistory();\r\n    // merge conflict 1/2\r\n    console.log(state.user);\r\n    if(!state.user){\r\n        history.push('/signup');\r\n    }\r\n    \r\n    // merge conflict 2/2 - i think we need both tho -cna\r\n    const [lat, setLat] = useState();\r\n    const [lng, setLng] = useState();\r\n    // if(!user.id){\r\n    //     history.push('/login');\r\n    // }\r\n\r\n    const uploadImage = (e) => {\r\n        const files = e.target.files[0];\r\n        const formData = new FormData();\r\n        formData.append('upload_preset', 'sharemasters');\r\n        formData.append('file', files);\r\n        console.log(files);\r\n        console.log(formData);\r\n\r\n        uploadImageToDB(formData)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            setImage(res.data.secure_url)\r\n        })\r\n        // .then(res => )\r\n        // .then(setLoading(false))\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    const [category, setCategory] = useState('');\r\n    const [locationPref, setLocationPref] = useState('');\r\n\r\n    const itemNameRef = useRef();\r\n    const descriptionRef = useRef();\r\n    const priceRef = useRef();\r\n    // const locationRef = useRef();\r\n    const streetRef = useRef();\r\n    const zipcodeRef = useRef();\r\n    const cityRef = useRef();\r\n    const stateRef = useRef();\r\n    const browserLocationRef = useRef();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (locationPref === 'Use current location') {\r\n            const data = {\r\n                ownerId: state.user._id,\r\n                name: itemNameRef.current.value,\r\n                description: descriptionRef.current.value,\r\n                category: category,\r\n                address: \"\",\r\n                city: \"\",\r\n                state: \"\",\r\n                zipCode: \"\",\r\n                fullAddress: \"\",\r\n                coordinates: {\r\n                    lat: lat,\r\n                    lng: lng\r\n                },\r\n                price: priceRef.current.value,\r\n                img: image,\r\n                pendingRequest: false,\r\n                isRented: false,\r\n                active: false,\r\n            }\r\n            console.log(data);\r\n            postListing(data)\r\n            .then(res => {\r\n                console.log(res);\r\n                addOwned(`${res.data.ownerId}`, {itemId: res.data._id})\r\n                .then(res => {\r\n                    alert('Item posted successfully')\r\n                    history.push(\"/profile\");\r\n                })\r\n                .catch(err => console.log(err))\r\n            })\r\n            .catch(err => console.log(err));\r\n        } else if ('Use profile location') {\r\n        getCoordinates(`${state.user.address} ${state.user.city} ${state.user.state} ${state.user.zipCode}`, (res) => {\r\n        const address = state.user.address;\r\n        const city = state.user.city;\r\n        const addressState = state.user.state;\r\n        const zipcode = state.user.zipCode\r\n        const data = {\r\n            // manually putting in ownId, this will be provided through the usercontext\r\n            ownerId: state.user._id,\r\n            name: itemNameRef.current.value,\r\n            description: descriptionRef.current.value,\r\n            category: category,\r\n            address: address,\r\n            city: city,\r\n            state: addressState,\r\n            zipCode: zipcode,\r\n            fullAddress: `${address} ${city} ${addressState} ${zipcode}`,\r\n            coordinates: {\r\n                lat: res.results[0].geometry.lat.toFixed(3),\r\n                lng: res.results[0].geometry.lng.toFixed(3)\r\n            },\r\n            price: priceRef.current.value,\r\n            img: image,\r\n            pendingRequest: false,\r\n            isRented: false,\r\n            active: true,\r\n        }\r\n        console.log(data);\r\n        postListing(data)\r\n        .then(res => {\r\n            console.log(res);\r\n            addOwned(`${res.data.ownerId}`, {itemId: res.data._id})\r\n            .then(res => { \r\n                alert('Item posted successfully')\r\n                history.push(\"/profile\");})\r\n            .catch(err => console.log(err))\r\n            \r\n        })\r\n        .catch(err => console.log(err));\r\n        })\r\n    }\r\n        else {\r\n        getCoordinates(`${streetRef.current.value} ${zipcodeRef.current.value} ${cityRef.current.value} ${stateRef.current.value}`, (res) => {\r\n            console.log(res)\r\n            const data = {\r\n                ownerId: state.user._id,\r\n                name: itemNameRef.current.value,\r\n                description: descriptionRef.current.value,\r\n                category: category,\r\n                address: streetRef.current.value,\r\n                city: cityRef.current.value,\r\n                state: stateRef.current.value,\r\n                zipCode: zipcodeRef.current.value,\r\n                fullAddress: `${streetRef.current.value} ${zipcodeRef.current.value} ${cityRef.current.value} ${stateRef.current.value}`,\r\n                coordinates: {\r\n                    lat: res.results[0].geometry.lat.toFixed(3),\r\n                    lng: res.results[0].geometry.lng.toFixed(3)\r\n                },\r\n                price: priceRef.current.value,\r\n                img: image,\r\n                pendingRequest: false,\r\n                isRented: false,\r\n                active: false,\r\n            }\r\n            console.log(data);\r\n            postListing(data)\r\n            .then(res => {\r\n                console.log(res);\r\n                addOwned(`${res.data.ownerId}`, {itemId: res.data._id})\r\n                .then(res => {\r\n                    alert('Item posted successfully')\r\n                    history.push(\"/profile\");\r\n                })\r\n                .catch(err => console.log(err))\r\n            })\r\n            .catch(err => console.log(err));\r\n        })}\r\n    }\r\n\r\n    const handleLocationPref = (locationValue) => {\r\n        setLocationPref(locationValue);\r\n    }\r\n    \r\n    const handleCategoryDropdown = (selectedCategory) => {\r\n        setCategory(selectedCategory);\r\n    }\r\n    return (\r\n        <div className = 'listing-page'>\r\n            <Nav currentPage ='post'/>\r\n            <section className='section'>\r\n                <div className='container notification is-info is-light'>\r\n                    <Field title='Item Name' placeholder='lawnmower' reference={itemNameRef}/>\r\n                    <Field title='Description' placeholder='Tell us about your item' reference={descriptionRef} />\r\n                    <Field title='Price' placeholder='$/day' reference={priceRef}/>\r\n                    <label className=\"label\">Category</label>\r\n                    <DropdownMenu label='Select Category' items={['Electronics', 'Events', 'Home Improvement', 'Kitchen Appliances', 'Miscellaneous', 'Recreation', 'Yardwork']} extraFunction={handleCategoryDropdown}/>\r\n                    <label className=\"label\">Location</label>\r\n                    <DropdownMenu label='Select Location' items={['Use current location','Use profile location', 'Enter a location']} extraFunction={handleLocationPref}/>\r\n                    {locationPref === 'Use my location' ? navigator.geolocation.getCurrentPosition((data) => {\r\n                        let geolocateLat = data.coords.latitude.toFixed(3)\r\n                        let geolocateLng = data.coords.longitude.toFixed(3)\r\n                        setLat(geolocateLat)\r\n                        setLng(geolocateLng)}) : <> </>}\r\n                    {locationPref === 'Use profile location' ? <Field disabled={true} value={state.user.address}/> : <> </>}\r\n                    {locationPref === 'Use profile location' ? <Field disabled={true} value={state.user.city}/> : <> </>}\r\n                    {locationPref === 'Use profile location' ? <Field disabled={true} value={state.user.state}/> : <> </>}\r\n                    {locationPref === 'Use profile location' ? <Field disabled={true} value={state.user.zipCode}/> : <> </>}\r\n                    {locationPref === 'Enter a location' ? <Field placeholder='Street' reference={streetRef} /> : <> </>}\r\n                    {locationPref === 'Enter a location' ? <Field placeholder='City' reference={cityRef} /> : <> </>}\r\n                    {locationPref === 'Enter a location' ? <Field placeholder='State' reference={stateRef} maxlength={2}/> : <> </>}\r\n                    {locationPref === 'Enter a location' ? <Field placeholder='Zipcode' reference={zipcodeRef} maxlength={5}/> : <> </>}\r\n                    <div className='field'>\r\n                        <label className=\"label\">Item Image</label>\r\n                        <ItemImage image={image} uploadImage={uploadImage}/>\r\n                    </div>\r\n                    <div className=\"control\">\r\n                        <button className=\"button is-link\" onClick={handleSubmit}>Submit</button>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            {/* <Container class = 'listing-container'>\r\n            </Container> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ListingPage;","import React, { useState, useRef, useEffect } from 'react';\r\nimport './styles.css';\r\n// import Field from '../../components/Field/Field';\r\nimport DatePicker from 'react-datepicker';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useStoreContext } from '../../utils/UserContext/UserContext';\r\nimport { Container } from \"react-bulma-components\";\r\nimport { postAppointment, renterRequest, getItem, rentalCancel } from '../../utils/API/API';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\n\r\nfunction ItemRequestForm() {\r\n    const [item, setItem] = useState({})\r\n    const [state, dispatch] = useStoreContext();\r\n    const { id } = useParams();\r\n    const startDateRef = useRef();\r\n    const endDateRef = useRef();\r\n    const [startDate, setStartDate] = useState();\r\n    const [endDate, setEndDate] = useState();\r\n    const [appointmentInfo, setAppointmentInfo] = useState({});\r\n\r\n\r\n\r\n    const handleFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (startDate > endDate) {\r\n            return alert('The start date cannot be after the end date!')\r\n        }\r\n        const appointment = {\r\n            itemId: id,\r\n            // renter id will be the userId from user context for this field\r\n            \r\n            // previous code before merge\r\n            renterId: state.user._id,\r\n\r\n            startDate: startDate,\r\n            endDate: endDate\r\n        }\r\n \r\n            //submit data to appointments as a request to owner\r\n            postAppointment(appointment);\r\n            \r\n            //getting appointment information to update the the item information with the appointment id\r\n            setTimeout(() => {\r\n                getItem(id, (res) => {\r\n                    console.log(res)\r\n                    res = res[0].appointmentInfo[res[0].appointmentInfo.length - 1]._id\r\n                    console.log(res)\r\n                    let renterRequestUpdate = { \r\n                        pendingRequest: true,\r\n                        appointments: res   \r\n                    } \r\n                    renterRequest(id, renterRequestUpdate)\r\n                })\r\n                \r\n            }, 3000);\r\n            \r\n\r\n\r\n    }\r\n\r\n\r\n    const handleCancel = (e) => {\r\n        e.preventDefault();\r\n        rentalCancel(id);\r\n\r\n    }\r\n\r\n    const handleFormCancel = (e) => {\r\n        startDateRef.current.value = \"\";\r\n        endDateRef.current.value = \"\";\r\n    }\r\n\r\n    return (\r\n        <Container className=\"notification\">\r\n            <div className=\"title is-4\">Request Rental</div>\r\n            <div className='item-request-form'>\r\n                <div className=\"date-picker\">\r\n                    <span className=\"title is-6\">Start Date</span>\r\n                    <div>\r\n                        <DatePicker showPopperArrow={false} selected={startDate} onChange={date => setStartDate(date)} placeholderText=\"Please choose start date..\"/> \r\n                    </div>\r\n                </div> \r\n                <div className=\"date-picker\">\r\n                    <span className=\"title is-6\">End Date</span>\r\n                    <div>\r\n                        <DatePicker showPopperArrow={false} selected={endDate} onChange={date => setEndDate(date)} minDate={startDate} placeholderText=\"Please choose end date..\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"field is-grouped button-container\">\r\n                <div className=\"control\">\r\n                    <button className=\"button is-primary\" onClick={handleFormSubmit}>Submit</button>\r\n                </div>\r\n                <div className=\"control\">\r\n                    <button className=\"button is-warning is-light\" onClick={handleCancel}>Cancel</button>\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default ItemRequestForm;\r\n","import React from 'react';\r\nimport './styles.css'\r\n\r\nfunction MessageOwnerButton() {\r\n\r\n    const handleMessage = (e) => {\r\n        console.log('navigate user to email form or chat window');\r\n    }\r\n\r\n    return (\r\n        <button className=\"button is-primary is-light is-outlined message-owner\" onClick={handleMessage}>\r\n            Message the Owner\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default MessageOwnerButton;","import React, { useState, useEffect } from 'react';\r\nimport './styles.css';\r\nimport { Section, Container, Tile, Heading, Columns } from \"react-bulma-components\";\r\nimport ItemRequestForm from '../ItemRequestForm/ItemRequestForm';\r\n\r\n//pages\r\nimport { useParams } from 'react-router-dom';\r\nimport { getItem } from '../../utils/API/API';\r\n\r\n\r\nimport MessageOwnerButton from '../MessageOwnerButton/MessageOwnerButton';\r\n\r\n\r\nfunction ItemInfo() {\r\n    const [item, setItem] = useState({})\r\n    const { id } = useParams();\r\n    const [owner, setOwner] = useState({})\r\n\r\n\r\n\r\n        useEffect(() => {\r\n        getItem(id)\r\n        .then(res => {\r\n            res = res.data[0]\r\n            console.log('hi from useeffect in ItemInfo')\r\n            console.log(res);\r\n            // console.log(res.ownerInfo[0]);\r\n\r\n            setItem(res)\r\n            setOwner(res.ownerId)\r\n\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n\r\n        <Section>\r\n            <Container>\r\n            <h1 className=\"is-size-3 has-text-weight-bold\">{item.name}</h1>\r\n                <Columns>\r\n                    <div className=\"column is-half\">\r\n                        <figure className=\"image\">\r\n                            {item.img ? <img src={item.img} alt={item.name}/>: <img src=\"https://bulma.io/images/placeholders/128x128.png\"/>}\r\n                        </figure>\r\n                    </div>\r\n\r\n                    <div className=\"column is-half\">\r\n                        <div className=\"title is-5\">Price: ${item.price}/day</div>\r\n                        <div className=\"title is-5\">User: {owner.username}</div>\r\n                        {item.city ? <div className=\"title is-5\">Location: {item.city}, {item.state}</div> : <div className=\"title is-5\">Location: See map below</div>}\r\n                        <div className=\"title is-5\">Description: {item.description}</div>\r\n                        <MessageOwnerButton />\r\n                        <br />\r\n                        <br />\r\n                        <ItemRequestForm />\r\n\r\n                    </div>\r\n\r\n                </Columns>\r\n\r\n            </Container>\r\n\r\n\r\n\r\n        </Section>\r\n\r\n    )\r\n}\r\n\r\nexport default ItemInfo;","import React from 'react';\r\nimport { GoogleMap, withScriptjs, withGoogleMap, Marker, Circle } from 'react-google-maps';\r\n\r\nfunction Map() {\r\n    // const [lat, setLat] = useState({})\r\n    // const [lng, setLng] = useState({})\r\n    // const { id } = useParams();\r\n\r\n    return (\r\n        <GoogleMap\r\n            defaultZoom={15} \r\n            defaultCenter={{lat:40.741895, lng:-73.989308}}\r\n        >\r\n\r\n            {/* <Marker\r\n                position={{\r\n                    lat:40.741895, lng:-73.989308\r\n                }}\r\n              /> */}\r\n              {true && (\r\n                <Circle\r\n                  defaultCenter={{\r\n                    lat:40.741, lng:-73.989\r\n                  }}\r\n                  radius={300}\r\n                  options={{strokeColor: \"#00d1b2\"}}\r\n                />\r\n              )}\r\n\r\n\r\n\r\n        </GoogleMap>\r\n    )\r\n}\r\n\r\nconst WrapperMap = withScriptjs(withGoogleMap(Map));\r\n\r\nexport default function ItemMap() {\r\n    return (\r\n        <div style={{width: \"69vw\", height: \"69vh\"}}>\r\n            <WrapperMap googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAH6mTxzDGvX1DWOPmZDMAJazm7tDvuAt0`} \r\n            loadingElement={<div style={{ height: \"100%\"}} />}\r\n            containerElement={<div style={{ height: \"100%\"}} />}\r\n            mapElement={<div style={{ height: \"100%\"}} />}\r\n            />\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport ItemInfo from '../../components/ItemInfo/ItemInfo';\r\nimport Nav from \"../../components/Nav/Nav\";\r\nimport ItemGoogleMaps from \"../../components/ItemGoogleMaps/ItemGoogleMaps\"\r\nimport './styles.css';\r\n\r\n\r\nfunction ItemPage() {\r\n    \r\n    return (\r\n        <div>\r\n            <Nav />\r\n            <ItemInfo />\r\n            {/* <ItemRequestForm /> */}\r\n            <ItemGoogleMaps />\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ItemPage","import React from 'react'\r\n\r\nconst NavTabs = (props) => {\r\n    return(\r\n        <div className = \"tabs is-medium\">\r\n            <ul>\r\n                {props.tabs.map(tab => (\r\n                    <li key={tab} data-page={tab} onClick={props.handlePageChange}><a href='#' data-page={tab}>{tab}</a></li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavTabs;","import React from \"react\";\r\n\r\nimport { Notification } from 'react-bulma-components';\r\n\r\nconst ProfileItemContainer = (props) => {\r\n    return (\r\n        <Notification className=\"level\">\r\n            <article className=\"media\">\r\n                <div className=\"media-left\">\r\n                    <figure className=\"image is-128x128\">\r\n                        <img src={props.image} />\r\n                    </figure>\r\n                </div>\r\n                <div className=\"media-content\">\r\n                    <div className=\"content\">\r\n                        <div className=\"title is-5\">{props.title}</div>\r\n                        <div className=\"title is-5\">Start Date: <span>{props.startDate}</span></div>\r\n                        <div className=\"title is-5\">End Date: <span>{props.endDate}</span></div>\r\n                    </div>\r\n                </div>\r\n            </article>\r\n            <div className=\"field is-grouped\">\r\n                {props.children}\r\n            </div>\r\n        </Notification>\r\n    );\r\n};\r\n\r\nexport default ProfileItemContainer;","import React from \"react\";\r\n\r\nimport { Button } from 'react-bulma-components';\r\n\r\nconst ReturnButton = (props) => {\r\n    return (\r\n        <p className=\"control\">\r\n            <Button className=\"is-primary\" {...props}>\r\n                {props.children}\r\n            </Button>\r\n        </p>\r\n    );\r\n};\r\n\r\nexport default ReturnButton;","import React from 'react';\r\nimport { Button } from \"react-bulma-components\";\r\n\r\nfunction MessageOwnerButton(props) {\r\n    return (\r\n        <Button className=\"is-primary is-light is-outlined\" {...props}>\r\n            Message the Owner\r\n        </Button>\r\n    )\r\n}\r\n\r\nexport default MessageOwnerButton;","import React from \"react\";\r\n\r\nimport { Button } from 'react-bulma-components';\r\n\r\nconst SuccessButton = (props) => {\r\n    return (\r\n        <p className=\"control\">\r\n            <Button className=\"is-success is-outlined\" {...props}>\r\n                {props.children}\r\n            </Button>\r\n        </p>\r\n    );\r\n};\r\n\r\nexport default SuccessButton;","import React from \"react\";\r\n\r\nimport { Button } from 'react-bulma-components';\r\n\r\nconst RejectButton = (props) => {\r\n    return (\r\n        <p className=\"control\">\r\n            <Button className=\"is-danger is-outlined\" {...props}>\r\n                {props.children}\r\n            </Button>\r\n        </p>\r\n    );\r\n};\r\n\r\nexport default RejectButton;","import React, { useState, useEffect } from \"react\";\r\n\r\n//user context\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { SET_USER } from \"../../utils/UserContext/UserActions\";\r\nimport { getProfile, addRental, removeRental } from '../../utils/API/API';\r\n\r\nimport Nav from \"../../components/Nav/Nav\";\r\nimport NavTabs from \"../../components/NavTabs/NavTabs\";\r\nimport {Section, Container} from 'react-bulma-components';\r\nimport ProfileItemContainer from \"../../components/ProfileItemContainer\";\r\nimport { useHistory, NavLink} from 'react-router-dom';\r\n\r\n//put buttons in ProfileItemContent children\r\n// Rental Buttons\r\nimport ReturnButton from \"../../components/ReturnButton\";\r\nimport MessageOwnerButton from \"../../components/MessageOwnerButton\";\r\n\r\n// Listings and Return Buttons \r\n// Accept/Reject for Listings and Confirm/Report for Returns\r\nimport SuccessButton from \"../../components/SuccessButton\";\r\nimport RejectButton from \"../../components/RejectButton\";\r\n\r\n//API functions\r\nimport {approveRental, declineRental, returnItem, confirmReturn, removeAppointment} from '../../utils/API/API';\r\n\r\nconst Profile = () => {\r\n    // state information\r\n    // const [allitems, setallitems] = useState([])\r\n    const [requests, setRequests] = useState([]);\r\n    const [rentals, setRentals] = useState([]);\r\n    const [returns, setReturns] = useState([]);\r\n    const [state, dispatch] = useStoreContext();\r\n    const history = useHistory();\r\n\r\n    const [selected, setSelected] = useState('Profile');\r\n\r\n    const setUserState = (user) => {\r\n        dispatch({\r\n            type: SET_USER,\r\n            user: user\r\n        });\r\n    };\r\n\r\n    const filterRequests = (array) => {\r\n        const filteredItems = array.filter(item => {\r\n            return (item.pendingRequest);\r\n        })\r\n        setRequests(filteredItems);\r\n    }\r\n\r\n    const filterRentals = (array) => {\r\n        const filteredItems = array.filter(item => {\r\n            return (item.isRented);\r\n        })\r\n        setRentals(filteredItems);\r\n    }\r\n\r\n    const filterReturns = (array) => {\r\n        const filteredItems = array.filter(item => {\r\n            return (!item.active)\r\n        })\r\n        setReturns(filteredItems);\r\n    }\r\n\r\n    const handlePageChange = (e) => {\r\n        const nextPage = e.target.getAttribute('data-page');\r\n        setSelected(nextPage);\r\n        switch(selected) {\r\n            case 'Rentals':\r\n                filterRentals(state.user.rentals);\r\n                break;\r\n            case 'Requests':\r\n                filterRequests(state.user.owned);\r\n                break;\r\n            case 'Returns':\r\n                filterReturns(state.user.owned);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    const handleItemReturn = (e) => {\r\n        //make api call to change item with id to not rented\r\n        const id = e.target.getAttribute('data-id')\r\n        let statusData = {isRented: false, active: false};\r\n        returnItem(id, statusData)\r\n        .then(res => {\r\n            const filtered = filterOffItem(id, state.user.rentals)\r\n            filterRentals(filtered);\r\n        })\r\n    }\r\n\r\n    const handleConfirmReturned = (e) => {\r\n        const id = e.target.getAttribute('data-id')\r\n        const requestId = e.target.getAttribute('data-renterid');\r\n        let statusData = {active: true}\r\n        confirmReturn(id, statusData)\r\n        .then(res => {\r\n            //pull item from rented user\r\n            removeAppointment(id, {appointmendId: res.data.currentAppointment[0]})\r\n            removeRental(requestId, {itemId: id})\r\n            const filtered = filterOffItem(id, state.user.owned)\r\n            filterReturns(state.user.rentals)\r\n        })\r\n    }\r\n\r\n    const handleAccept = (e) => {\r\n        //make api call to set item with id to rented and pending to false\r\n        const id = e.target.getAttribute('data-id');\r\n        console.log(id);\r\n        const requestId = e.target.getAttribute('data-renterid')\r\n        console.log(requestId);\r\n        let statusData = {pendingRequest: false, isRented: true}\r\n        approveRental(id, statusData)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            addRental(requestId, {itemId: id});\r\n            const filtered = filterOffItem(id, state.user.owned);\r\n            filterRequests(filtered)\r\n            // setRequests(filtered);\r\n        })\r\n        .catch(res => console.log(res));\r\n    }\r\n\r\n    const handleReject = (e) => {\r\n        //make api call to set pending to false. handle rejection message?\r\n        const id = e.target.getAttribute('data-id');\r\n        console.log(id);\r\n        let statusData = {pendingRequest: false};\r\n        declineRental(id, statusData)\r\n        .then(() => {\r\n            const filtered = filterOffItem(id, state.user.owned);\r\n            filterRentals(filtered);\r\n        })\r\n        .catch(res => console.log(res));\r\n    }\r\n    \r\n    const filterOffItem = (id, array) => {\r\n        const filteredItems = array.filter(item => {\r\n            return(item._id !== id)\r\n        })\r\n\r\n        return filteredItems;\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!state.user) {\r\n            history.push('/signup');\r\n        } else {\r\n            getProfile(state.user.userId)\r\n            .then(res => {\r\n                setUserState(res.data[0]);\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            { state.user ? \r\n            <div className='profile-page'>\r\n                <Nav currentPage = 'profile'/>\r\n                <br />\r\n                <Container>\r\n                    <NavTabs handlePageChange={handlePageChange} tabs={['Profile', 'Rentals', 'Requests', 'Returns']} />\r\n                </Container>\r\n                <Section>\r\n                    <Container>\r\n                        {\r\n                            selected === 'Rentals' ? <>{rentals.length !== 0 ? rentals.map(rental => (                \r\n                                <ProfileItemContainer \r\n                                    image={rental.img}\r\n                                    title={rental.name}\r\n                                    startDate={rental.currentAppointment[0].startDate}\r\n                                    endDate={rental.currentAppointment[0].endDate}>\r\n                                    <ReturnButton onClick={handleItemReturn} data-id={rental._id}>Return</ReturnButton>\r\n                                    <MessageOwnerButton></MessageOwnerButton>\r\n                                </ProfileItemContainer>\r\n                            )):<div>No Rentals</div>}</>\r\n                            : selected === 'Requests' ? <>{requests.length !== 0 ? requests.map(request => (                \r\n                                <ProfileItemContainer \r\n                                    image={request.img}\r\n                                    title={request.name}\r\n                                    startDate={request.currentAppointment[0].startDate}\r\n                                    endDate={request.currentAppointment[0].endDate}>\r\n                                    <SuccessButton onClick={handleAccept} data-renterid={request.renterUserId} data-id={request._id}>Accept</SuccessButton>\r\n                                    <RejectButton onClick={handleReject} data-id={request._id}>Reject</RejectButton>\r\n                                </ProfileItemContainer>\r\n                            )):<div>No Requests</div>}</>\r\n                            : selected === 'Returns' ? <>{returns.length !== 0 ? returns.map(returnItem => (                \r\n                                <ProfileItemContainer \r\n                                    image={returnItem.img}\r\n                                    title={returnItem.name}\r\n                                    startDate={returnItem.currentAppointment[0].startDate}\r\n                                    endDate={returnItem.currentAppointment[0].endDate}>\r\n                                    <SuccessButton onClick={handleConfirmReturned} data-renterid={returnItem.renterUserId} data-id={returnItem._id}>Confirm</SuccessButton>\r\n                                    {/* <RejectButton onClick={handlePageChange} data-id={returnItem._id}>Report</RejectButton> */}\r\n                                </ProfileItemContainer>\r\n                            )):<div>No Returns</div>}</>\r\n                            : <div className=\"box\">\r\n                                <h2 className=\"subtitle is-2\">{`${state.user ? state.user.firstName: <></>} ${state.user ? state.user.lastName: <></>} (${state.user.username})`}</h2>\r\n                                <figure class=\"image is-32x32\">\r\n                                    <img class=\"is-rounded\" src={state.user.icon}/>\r\n                                </figure>\r\n                                <div className=\"content\">\r\n                                    <h6 className=\"subtitle is-6\">{state.user ? `${state.user.address} ${state.user.city}, ${state.user.state} ${state.user.zipCode}`: <> </>}</h6>\r\n                                    <h6 className=\"subtitle is-6\">Total listings: {state.user ? state.user.owned.length : 'no listing'}</h6>\r\n                                    <h6 className=\"subtitle is-6\">Items Renting: {state.user ? state.user.rentals.length : 'no listing'}</h6>\r\n                                    <NavLink to=\"/editprofile\"><i className={`fas fa-pencil-alt`}></i></NavLink>\r\n                                </div>\r\n                            </div>}\r\n                    </Container>\r\n\r\n\r\n                </Section>\r\n            </div> : <div></div> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","const images = [\r\n    { id: \"butterfly\", src: './assets/icons/butterfly.png'},\r\n    { id: \"dog\", src: './assets/icons/dog.png'},\r\n    { id: \"falcon\", src: './assets/icons/falcon.png'},\r\n    { id: \"iguana\", src: './assets/icons/iguana.png'},\r\n    { id: \"octopus\", src: './assets/icons/octopus.png'},\r\n    { id: \"owl\", src: './assets/icons/owl.png'}\r\n  ];\r\n  \r\nexport default images;","import React, {useRef, useState, useEffect } from 'react';\r\nimport FormField from \"../FormField/FormField\";\r\nimport FormControl from \"../FormControl/FormControl\";\r\nimport FormIcon from \"../FormIcon/FormIcon\";\r\nimport FormHelp from \"../FormHelp/FormHelp\";\r\nimport StatesDropdown from \"../StatesDropdown/StatesDropdown\";\r\nimport images from \"../../images\";\r\nimport { Button, Section, Container, Columns} from \"react-bulma-components\";\r\nimport { updateProfile, getCurrentUser, getProfile } from '../../utils/API/API';\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { SET_USER } from \"../../utils/UserContext/UserActions\";\r\n\r\nconst UpdateProfile = (props) => {\r\n    const [state, dispatch] = useStoreContext();\r\n    const [selectedIcon, setIcon] = useState(); \r\n\r\n    const setUserState = (user) => {\r\n        dispatch({\r\n            type: SET_USER,\r\n            user: user\r\n        });\r\n    };\r\n\r\n    //profile fields refs\r\n    const emailRef = useRef();\r\n    const addressRef = useRef();\r\n    const cityRef = useRef();\r\n    const stateRef = useRef();\r\n    const zipCodeRef = useRef();\r\n\r\n    const [signupErrorState, setSignupError] = useState({});\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const updatedUser = {\r\n            address: addressRef.current.value.length > 0  ? addressRef.current.value : state.user.address,\r\n            city: cityRef.current.value.length > 0 ? cityRef.current.value : state.user.city,\r\n            state: stateRef.current.value.length > 0 ? stateRef.current.value : state.user.state,\r\n            zipCode: zipCodeRef.current.value.length > 0 ? zipCodeRef.current.value : state.user.zipCode,\r\n            email: emailRef.current.value.length > 0 ? emailRef.current.value : state.user.email,\r\n            icon: selectedIcon ? selectedIcon : state.user.icon\r\n        }\r\n\r\n        updateProfile(state.user.userId, updatedUser)\r\n        .then(() => {\r\n            //updatesuccess\r\n            setSignupError({});\r\n            alert(\"Profile Updated\");\r\n            updateUserState();\r\n        })\r\n        .catch(err => {\r\n            // update fail\r\n            setSignupError(err.response.data.err);\r\n        });\r\n    }\r\n\r\n    const updateUserState = () => {\r\n        getCurrentUser().then(res => {\r\n            getProfile(res.data.user._id)\r\n                .then(res => {\r\n                    setUserState(res.data[0]);\r\n                });\r\n        });\r\n    }\r\n\r\n    const handleIconSelect = (e) => {\r\n        setIcon(e.target.value);\r\n    }\r\n\r\n\r\n    return (\r\n        <Section>\r\n            <Container className=\"notification is-info is-light\">\r\n                <h3 className=\"subtitle is-3\">{`${state.user.firstName} ${state.user.lastName}`}</h3>\r\n                <h5 className=\"subtitle is-5\">{state.user.username}</h5>\r\n                <Columns>\r\n                    <Columns.Column className=\"is-narrow\">\r\n                        <FormField label=\"Profile Icon\">\r\n                            <FormControl>\r\n                                <Columns>\r\n                                    { images.map(({id, src}) => {\r\n                                        return (\r\n                                            <Columns.Column key={ id } className=\"is-narrow\">\r\n                                                <label className=\"radio\">\r\n                                                    <input type=\"radio\" name=\"icon\" value={ src } onClick={ handleIconSelect }/>\r\n                                                    <img src={ src }/>\r\n                                                </label>\r\n                                            </Columns.Column>\r\n                                        )\r\n                                    }) }\r\n                                </Columns>\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                </Columns>\r\n                <FormField label=\"Address\">\r\n                    <FormControl>\r\n                        <input className=\"input\" type=\"text\" placeholder=\"5555 N Main St\" defaultValue={state.user.address ? state.user.address : \"\"} ref={addressRef} />\r\n                    </FormControl>\r\n                </FormField>\r\n                <Columns>\r\n                    <Columns.Column>\r\n                        <FormField label=\"City\">\r\n                            <FormControl>\r\n                                <input className=\"input\" type=\"text\" placeholder=\"Seattle\" defaultValue={state.user.city ? state.user.city: \"\"} ref={cityRef} />\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                    <Columns.Column className=\"is-narrow\">\r\n                        <FormField label=\"State\">\r\n                            <FormControl>\r\n                                <StatesDropdown stateRef={stateRef} defaultState={state.user.state ? state.user.state : null}></StatesDropdown>\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                    <Columns.Column className=\"is-narrow\">\r\n                        <FormField label=\"Zip Code\">\r\n                            <FormControl>\r\n                                <input className={`input ${signupErrorState.zipCode ? \"is-danger\" : \"\"}`} type=\"text\" placeholder=\"00000\" defaultValue={state.user.zipCode ? state.user.zipCode : \"\"} ref={zipCodeRef} />\r\n                            </FormControl>\r\n                        </FormField>\r\n                    </Columns.Column>\r\n                </Columns>\r\n                <FormField label=\"Email\">\r\n                    <FormControl controlClass=\"has-icons-left has-icons-right\">\r\n                        <input \r\n                            className={`input ${signupErrorState.email ? \"is-danger\" : \"\"}`} type=\"email\" placeholder=\"@email.com\" defaultValue={state.user.email? state.user.email: \"\"} ref={emailRef} />\r\n                        <FormIcon size=\"small\" side=\"left\" icon=\"envelope\" />\r\n                        <FormIcon size=\"small\" side=\"right\" icon=\"exclamation-triangle\" />\r\n                    </FormControl>\r\n                </FormField>\r\n                <div className=\"field is-grouped\">\r\n                    <div className=\"control\">\r\n                        <Button className=\"is-link\" type=\"submit\" onClick={handleSubmit}>Submit</Button>\r\n                    </div>\r\n                    <FormHelp type=\"danger\" message={signupErrorState ? signupErrorState.message : \"\"} />\r\n                </div>\r\n            </Container>\r\n        </Section>\r\n    )\r\n}\r\n\r\nexport default UpdateProfile;","import React, { useEffect } from 'react';\r\nimport UpdateProfile from '../../components/UpdateProfile/UpdateProfile';\r\nimport Nav from '../../components/Nav/Nav';\r\nimport { useStoreContext } from \"../../utils/UserContext/UserContext\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst EditProfile = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        if(!state.user) {\r\n            history.push('/signup');\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <Nav></Nav>\r\n            {state.user ? <UpdateProfile /> : <div></div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport { UserProvider } from \"./utils/UserContext/UserContext\";\r\nimport Signup from './pages/Signup/Signup';\r\nimport Home from \"./pages/Home/Home\";\r\nimport Listings from './pages/Listings/Listings'\r\nimport ListingPage from \"./pages/ListingPost/ListingPost\";\r\nimport ItemPage from \"./pages/Item/Item\";\r\nimport Profile from \"./pages/Profile/Profile\";\r\nimport EditProfile from \"./pages/EditProfile/EditProfile\";\r\n\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <UserProvider>\r\n    <Router>\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route exact path = '/' component={Home} />\r\n          <Route exact path = '/signup' component={Signup} />\r\n          <Route exact path = '/listings' component={Listings} />\r\n          <Route exact path = '/newlisting' component={ListingPage} />\r\n          <Route exact path = '/items/:id' component={ItemPage} />\r\n          <Route exact path = '/profile' component={Profile} />\r\n          <Route exact path = '/editprofile' component={EditProfile} />\r\n        </Switch>\r\n  \r\n      </div>\r\n    </Router>\r\n    </UserProvider>\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log(\"New content is available; please refresh.\");\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\");\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        \"No internet connection found. App is running in offline mode.\"\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport registerServiceWorker from \"./registerServiceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}