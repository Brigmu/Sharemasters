(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{210:function(e,t,a){e.exports=a(515)},215:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},245:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},318:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(42),r=a.n(c),i=(a(215),a(7)),s=a(38),o=(a(216),a(5)),m=a(208),u=a(209),d="UPDATE_USER",f=Object(n.createContext)(),E=f.Provider,p=function(e,t){switch(t.type){case d:return Object(u.a)({},e,{user:t.user});case"CLEAR_USER":return{};default:return}},g=function(e){e.value;var t=Object(m.a)(e,["value"]),a=Object(n.useReducer)(p,{}),c=Object(o.a)(a,2),r=c[0],i=c[1];return l.a.createElement(E,Object.assign({value:[r,i]},t))},h=function(){return Object(n.useContext)(f)},b=(a(217),function(e){return l.a.createElement("div",{className:"field ".concat(e.fieldClass?e.filedClass:"")},l.a.createElement("label",{className:"label"},e.label?e.label:""),e.children)}),v=(a(218),function(e){return l.a.createElement("div",{className:"control ".concat(e.controlClass?e.controlClass:"")},e.children)}),N=(a(219),function(e){return l.a.createElement("span",{className:"icon is-".concat(e.size," is-").concat(e.side)},l.a.createElement("i",{className:"fas fa-".concat(e.icon)}))}),C=(a(220),function(e){return l.a.createElement("p",{className:"help is-".concat(e.type)},e.message)}),O=a(4),j=function(e){return l.a.createElement("div",{className:"select"},l.a.createElement("select",{ref:e.stateRef},l.a.createElement("option",{value:"default",disabled:!0},"Select State"),["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"].map(function(t){return l.a.createElement("option",{key:t,value:t,selected:t===e.defaultState}," ",t," ")})))},y=a(6),w=a.n(y),k=function(){return w.a.get("/api/passport/user_data")},S=function(e){return w.a.get("api/profile/"+e)},R=function(e){return w.a.get("/api/items/"+e)},I=function(e,t){return w.a.put("http://localhost:3001/api/items/"+e,t)},x=function(e){return w.a.put("/api/appointment/cancel/"+e+"/rental-cancel")},A=function(e){return w.a.post("/api/appointments",e).catch(function(e){return console.log(e)})},z=function(e){return w.a.post("/api/items",e)},F=function(e){return w.a.post("/api/passport/login",e)},D=function(e,t){return w.a.put("/api/profile/owned/"+e,t)},_=function(e){var t=h(),a=Object(o.a)(t,2),c=(a[0],a[1]),r=Object(n.useRef)(),i=Object(n.useRef)(),m=Object(n.useRef)(),u=Object(n.useRef)(),f=Object(n.useRef)(),E=Object(n.useRef)(),p=Object(n.useRef)(),g=Object(n.useRef)(),y=Object(n.useRef)(),R=Object(n.useState)({}),I=Object(o.a)(R,2),x=I[0],A=I[1],z=[r,i,m,u,f,y,E,p,g],D=Object(s.f)(),_=function(e){F(e).then(function(){k().then(function(e){S(e.data.user._id).then(function(e){var t;t=e.data[0],c({type:d,user:t}),D.push("/")})}).catch(function(e){console.log(e.response.data.message)})})};return l.a.createElement(O.Section,null,l.a.createElement("div",{className:"container notification is-info is-light"},l.a.createElement("h1",null,"Sign Up!"),l.a.createElement(O.Columns,null,l.a.createElement(O.Columns.Column,null,l.a.createElement(b,{label:"First Name"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.firstName?"is-danger":""),type:"text",placeholder:"Alex",ref:m})))),l.a.createElement(O.Columns.Column,null,l.a.createElement(b,{label:"Last Name"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.lastName?"is-danger":""),type:"text",placeholder:"Lee",ref:u}))))),l.a.createElement(b,{label:"Email"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(x.email?"is-danger":""),type:"email",placeholder:"Email input",ref:f}),l.a.createElement(N,{size:"small",side:"left",icon:"envelope"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement(b,{label:"Address"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"5555 N Main St",ref:E}))),l.a.createElement(O.Columns,null,l.a.createElement(O.Columns.Column,null,l.a.createElement(b,{label:"City"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"Seattle",ref:p})))),l.a.createElement(O.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"State"},l.a.createElement(v,null,l.a.createElement(j,{stateRef:g})))),l.a.createElement(O.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"Zip Code"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.zipCode?"is-danger":""),type:"text",placeholder:"98001",ref:y}))))),l.a.createElement(b,{label:"Username"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"text",placeholder:"Username",ref:r}),l.a.createElement(N,{size:"small",side:"left",icon:"user"}),l.a.createElement(N,{size:"small",side:"right",icon:"check"}))),l.a.createElement(b,{label:"Password"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input",type:"password",placeholder:"Enter a secure password",ref:i}),l.a.createElement(N,{size:"small",side:"left",icon:"lock"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement("div",{className:"field"},l.a.createElement(O.Button,{style:{width:"75px"},className:"button is-link",type:"submit",onClick:function(e){e.preventDefault();var t,a={firstName:m.current.value,lastName:u.current.value,username:r.current.value,address:E.current.value,city:p.current.value,state:g.current.value,zipCode:y.current.value,email:f.current.value,password:i.current.value},n={username:r.current.value,password:i.current.value};(t=n,w.a.post("/api/passport/signup",t)).then(function(){var e;A({}),(e=a,w.a.post("/api/profile",e)).then(function(e){_(n),z.forEach(function(e){return e.current.value=""})}).catch(function(e){var t;t=a.username,w.a.delete("api/passport/"+t),A(e.response.data.err.errors)})}).catch(function(e){A(e.response.data.err?e.response.data.err:e.response.data)})}},"Submit"),l.a.createElement(C,{type:"danger",message:x?x.message:""}))))},M=(a(242),a(243),function(e){var t=h(),a=Object(o.a)(t,2),n=(a[0],a[1]),c=Object(s.f)();return l.a.createElement("button",{onClick:function(e){w.a.get("/api/passport/logout").then(function(){n({type:"CLEAR_USER"}),c.push("/")})},className:"button is-danger"},"Logout")}),P=function(){return l.a.createElement(i.c,{to:"/signup",className:"button is-primary is-inverted"},l.a.createElement("span",null,"Sign Up"))},U=function(e){var t=h(),a=Object(o.a)(t,2),n=a[0],c=(a[1],Object(s.g)());return l.a.createElement(O.Navbar,{color:"primary",className:"is-fixed-top"},l.a.createElement(O.Navbar.Brand,null,l.a.createElement(O.Navbar.Item,null,l.a.createElement(i.c,{to:"/",className:"inactive",activeClassName:"is-active"},l.a.createElement("h1",null,"SHAREISH"))),l.a.createElement(O.Navbar.Burger,null)),l.a.createElement(O.Navbar.Menu,null,l.a.createElement(O.Navbar.Container,null,l.a.createElement(O.Navbar.Item,null,n.user?n.user.username:"Guest"),l.a.createElement(O.Navbar.Item,null,n.user?"":l.a.createElement(i.c,{to:"/newlisting",className:"inactive",activeClassName:"is-active"},"Post a Listing"))),l.a.createElement(O.Navbar.Container,null,e.children),l.a.createElement(O.Navbar.Container,{position:"end"},l.a.createElement(i.c,{className:"navbar-item",to:"/profile"},n.user?n.user.username:"",l.a.createElement("img",{style:{marginLeft:"10px"},src:n.user?n.user.icon:""})),l.a.createElement("div",{className:"navbar-item"},n.user?l.a.createElement(M,null):"/signup"!==c.pathname?l.a.createElement(P,null):l.a.createElement("div",null)))))},L=function(){var e=h(),t=Object(o.a)(e,2),a=(t[0],t[1]),c=Object(n.useRef)(),r=Object(n.useRef)(),i=[c,r],m=Object(n.useState)({}),u=Object(o.a)(m,2),f=u[0],E=u[1],p=Object(s.f)();return l.a.createElement("div",{className:"container"},l.a.createElement(O.Columns,null,l.a.createElement(O.Columns.Column,null,l.a.createElement(b,{fieldClass:"is-horizontal"},l.a.createElement(v,{controlClass:"has-icons-left"},l.a.createElement("input",{className:"input ".concat(f.error?"is-danger":""),type:"text",placeholder:"Username",ref:c}),l.a.createElement(N,{size:"small",side:"left",icon:"user"})))),l.a.createElement(O.Columns.Column,null,l.a.createElement(b,{fieldClass:"is-horizontal"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(f.error?"is-danger":""),type:"password",placeholder:"Password",ref:r}),l.a.createElement(N,{size:"small",side:"left",icon:"lock"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"})))),l.a.createElement(O.Columns.Column,{className:"is-narrow"},l.a.createElement(O.Button,{style:{width:"75px",marginTop:"8px"},className:"button is-info",onClick:function(e){e.preventDefault();var t={username:c.current.value,password:r.current.value};F(t).then(function(e){E({error:!1}),k().then(function(e){S(e.data.user._id).then(function(e){var t;t=e.data[0],a({type:d,user:t}),p.push("/")})})}).catch(function(e){E({error:!0,message:e.message})}),i.forEach(function(e){return e.current.value=""})}},"Log In"))))},T=function(){return l.a.createElement("div",{className:"signup-page"},l.a.createElement(U,{signup:!0},l.a.createElement(L,null)),l.a.createElement(_,null),l.a.createElement("div",null,"Icons made by ",l.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",l.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")))};a(244),a(245),a(246);var H=function(e){return l.a.createElement(O.Container,null,l.a.createElement("form",{className:"tile field has-addons"},l.a.createElement("div",{className:"control is-expanded"},l.a.createElement("input",{className:"input",value:e.search,onChange:e.handleInputChange,name:"term",type:"text",placeholder:"What are you looking for?",id:"term",ref:e.reference})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-info",onClick:e.handleSearch},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-search"}))))))};var B=function(e){var t=h(),a=Object(o.a)(t,2),c=a[0],r=(a[1],Object(s.g)(),Object(n.useRef)()),m=Object(s.f)();return l.a.createElement("section",{className:"hero is-primary is-small is-mobile"},l.a.createElement("div",{className:"hero-head"},l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement(i.c,{to:"/",className:"navbar-item"}),l.a.createElement("span",{className:"navbar-burger burger","data-target":"navbarMenuHeroA"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),l.a.createElement("div",{id:"navbarMenuHeroA",className:"navbar-menu"},l.a.createElement("div",{className:"navbar-end"},l.a.createElement(i.c,{to:"/",className:"navbar-item"},"Home"),l.a.createElement(i.c,{to:"/listings",className:"navbar-item"},"Browse"),l.a.createElement(i.c,{to:"/profile",className:"navbar-item",disabled:!0},"Profile"),l.a.createElement("span",{className:"navbar-item"},c.user?l.a.createElement(M,null):l.a.createElement(P,null))))))),l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container has-text-centered"},l.a.createElement("h1",{className:"title"},"Shareish!"),l.a.createElement("h2",{className:"subtitle"},"share what you cherish")),l.a.createElement("br",null),l.a.createElement(H,{reference:r,handleSearch:function(e){e.preventDefault(),console.log(r.current.value),localStorage.setItem("searchTerm",r.current.value),m.push("/listings")}})))},q=function(){var e=h(),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){a.user||k().then(function(e){e.data.user&&S(e.data.user._id).then(function(e){var t;t=e.data[0],c({type:d,user:t}),console.log(t)})})},[]),l.a.createElement("div",null,l.a.createElement("div",{className:"navbar is-fixed-top is-primary"}),l.a.createElement(B,null),l.a.createElement(O.Section,null,l.a.createElement(O.Tile,{kind:"ancestor"},l.a.createElement(O.Tile,{kind:"parent"},l.a.createElement(O.Tile,{renderAs:"article",kind:"child",notification:!0},l.a.createElement(O.Heading,{className:"has-text-centered"},a.user?"Welcome, ".concat(a.user.username,"!"):"Welcome!"))))),l.a.createElement(O.Section,null,l.a.createElement(O.Container,null,l.a.createElement(O.Columns,null,[{message:"Post a Listing",color:"is-primary is-light is-outlined",link:"newlisting"},{message:"Browse Listings",color:"is-primary",link:"listings"},{message:"View Your Profile",color:"is-primary is-light is-outlined",link:"profile"}].map(function(e){return l.a.createElement(O.Columns.Column,null,l.a.createElement(i.b,{to:"/"+e.link,activeClassName:"is-active"},l.a.createElement("div",{key:e.link,className:"notification has-text-centered "+e.color},e.message)))})))))},W=a(207),V=(a(247),a(248),function(e){return l.a.createElement("div",Object.assign({className:"columns ".concat(e.size?e.size:""),ref:e.reference,id:e.id},e))}),K=(a(249),function(e){return l.a.createElement("div",Object.assign({className:"column ".concat(e.size?e.size:"")},e))});a(250);var Y=function(e){return l.a.createElement("div",{className:"box",key:e._id,"data-id":e.itemId,onClick:e.handleItemClick},l.a.createElement("figure",{className:"image is-156x156"},l.a.createElement("img",{"data-id":e.itemId,src:e.img,alt:""})),l.a.createElement("h2",{"data-id":e.itemId},e.itemName),l.a.createElement("h2",{"data-id":e.itemId},"$",e.price,"/day"))},G=(a(251),function(e){return l.a.createElement("div",{className:"title level notification ".concat(e.colorClass)},l.a.createElement("span",{className:"link-offset",id:e.id}),l.a.createElement("p",{className:"title"},e.title),l.a.createElement("button",{className:"scroll-btn scroll-left","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("span",{className:"icon is-small","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("i",{className:"fas fa-angle-left","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick}))),l.a.createElement("button",{className:"scroll-btn scroll-right","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("span",{className:"icon is-small","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("i",{className:"fas fa-angle-right","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick}))))}),Z=function(e){var t=Object(n.useRef)();Object(n.useEffect)(function(){console.log("happened"),w.a.get("/api/items/all/unrented").then(function(e){console.log(e.data),console.log("function happened"),i(e.data)}).catch(function(e){return console.log(e)});var e=localStorage.getItem("searchTerm");f(e),t.current.value=e,localStorage.removeItem("searchTerm")},[]);var a=Object(n.useState)([]),c=Object(o.a)(a,2),r=c[0],i=c[1],m=Object(n.useState)(),u=Object(o.a)(m,2),d=u[0],f=u[1],E=Object(n.useState)(Object(W.a)(r)),p=Object(o.a)(E,2),g=p[0],h=p[1],b=Object(n.useState)([]),v=Object(o.a)(b,2),N=v[0],C=v[1],O=Object(n.useState)([]),j=Object(o.a)(O,2),y=j[0],k=j[1],S=Object(n.useState)([]),R=Object(o.a)(S,2),I=R[0],x=R[1],A=Object(n.useState)([]),z=Object(o.a)(A,2),F=z[0],D=z[1],_=Object(n.useState)([]),M=Object(o.a)(_,2),P=M[0],L=M[1],T=Object(n.useState)([]),H=Object(o.a)(T,2),B=H[0],q=H[1],Z=Object(n.useState)([]),J=Object(o.a)(Z,2),$=J[0],X=J[1],Q=Object(n.useState)("name"),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)(function(){switch(te){case"name":var e;d&&(e=d.toLowerCase());var t=new RegExp(e),a=r.filter(function(e){return t.test(e.name.toLowerCase())});h(a);break;case"price":d?(a=r.filter(function(e){return parseInt(e.price)<=parseInt(d)}),h(a)):h(r);break;default:h(r)}},[d,r,te]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Electronics"===e.category});C(e)},[g,d]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Events"===e.category});k(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Home Improvement"===e.category});x(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Kitchen Appliances"===e.category});D(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Miscellaneous"===e.category});L(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Recreation"===e.category});q(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Yardwork"===e.category});X(e)},[g]);var ne=Object(n.useRef)(),le=Object(n.useRef)(),ce=Object(n.useRef)(),re=Object(n.useRef)(),ie=Object(n.useRef)(),se=Object(n.useRef)(),oe=Object(n.useRef)(),me=Object(n.useRef)(),ue=function(e){console.log(e.target);var t,a=e.target.getAttribute("data-direction"),n=e.target.getAttribute("data-category");switch(console.log(n),n){case"All":t=le;break;case"Electronics":t=ie;break;case"Events":t=se;break;case"Yardwork":t=ne;break;case"Kitchen Appliances":t=ce;break;case"Home Improvement":t=re;break;case"Miscellaneous":t=oe;break;case"Recreation":t=me;break;default:t=le}switch(a){case"left":t.current.scrollBy({top:0,left:-400,behavior:"smooth"});break;case"right":t.current.scrollBy({top:0,left:400,behavior:"smooth"});break;default:console.log("nothing happened")}},de=Object(s.f)(),fe=function(e){ae(e.target.value)},Ee=function(e){console.log(e.target);var t=e.target.getAttribute("data-id");console.log(t),de.push("/items/".concat(t))};return l.a.createElement("div",{className:"listings-page"},l.a.createElement(U,null),l.a.createElement("section",{className:"section"},l.a.createElement(V,null,l.a.createElement(K,{size:"is-2"},l.a.createElement("div",{className:"sidebar"},l.a.createElement("p",null,"Select filter type"),"price"===te?l.a.createElement("ul",{id:"filters"},l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"nameFilter",value:"name",name:"filter",onChange:fe}),l.a.createElement("label",{htmlFor:"nameFilter"},"Name")),l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"priceFilter",value:"price",name:"filter",onChange:fe,checked:!0}),l.a.createElement("label",{htmlFor:"priceFilter"},"Price"))):l.a.createElement("ul",{id:"filters"},l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"nameFilter",value:"name",name:"filter",checked:!0,onChange:fe}),l.a.createElement("label",{htmlFor:"nameFilter"},"Name")),l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"priceFilter",value:"price",name:"filter",onChange:fe}),l.a.createElement("label",{htmlFor:"priceFilter"},"Price"))),l.a.createElement("input",{type:"text",id:"filter",ref:t,onChange:function(e){return f(e.target.value)}}),l.a.createElement("hr",null),l.a.createElement("div",{className:"title is-4"},"Category List"),l.a.createElement("div",{className:""},l.a.createElement("li",null,l.a.createElement("a",{href:"#all"},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#electronics"},"Electronics")),l.a.createElement("li",null,l.a.createElement("a",{href:"#events"},"Events")),l.a.createElement("li",null,l.a.createElement("a",{href:"#home-imp"},"Home Improvement")),l.a.createElement("li",null,l.a.createElement("a",{href:"#kitchen"},"Kitchen Appliances")),l.a.createElement("li",null,l.a.createElement("a",{href:"#misc"},"Miscellaneous")),l.a.createElement("li",null,l.a.createElement("a",{href:"#recreation"},"Recreation")),l.a.createElement("li",null,l.a.createElement("a",{href:"#yard"},"Yardwork"))))),l.a.createElement(K,null,l.a.createElement(G,{title:"All",colorClass:"is-info",id:"all",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:le},g.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):g.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(G,{title:"Electronics",colorClass:"is-danger",id:"electronics",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:ie},N.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):N.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(G,{title:"Events",colorClass:"is-primary",id:"events",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:se},y.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):y.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(G,{title:"Home Improvement",colorClass:"is-info",id:"home-imp",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:re},I.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):I.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(G,{title:"Kitchen Appliances",colorClass:"is-danger",id:"kitchen",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:ce},F.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):F.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(G,{title:"Miscellaneous",colorClass:"is-primary",id:"misc",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:oe},P.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):P.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(G,{title:"Recreation",colorClass:"is-info",id:"recreation",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:me},B.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):B.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(G,{title:"Yardwork",colorClass:"is-danger",id:"yard",handleScrollClick:ue}),l.a.createElement(V,{size:"carousel",reference:ne},$.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):$.map(function(e){return l.a.createElement(K,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:Ee,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))}))))))},J=(a(252),a(253),function(e){return l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},e.title),l.a.createElement("div",{className:"control"},l.a.createElement("input",Object.assign({className:"input",type:"text",placeholder:e.placeholder,ref:e.reference},e))))}),$=(a(254),a(255),function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],r=a[1];return l.a.createElement(O.Dropdown,{label:e.label,onChange:function(t){r(t),e.extraFunction&&e.extraFunction(t)},value:c},e.items.map(function(e){return l.a.createElement(O.Dropdown.Item,{value:e},e)}))}),X=(a(256),function(e){return l.a.createElement("div",{className:"container"},e.image?l.a.createElement("img",{className:"item-img",style:{width:"200px"},src:e.image}):l.a.createElement("div",{className:"file"},l.a.createElement("label",{className:"file-label"},l.a.createElement("input",{name:"file",type:"file",className:"file-input","data-cloudinary-field":"image_id","data-form-data":"{ 'transformation': {'crop':'limit','tags':'samples','width':3000,'height':2000}}",onChange:e.uploadImage}),l.a.createElement("span",{className:"file-cta"},l.a.createElement("span",{className:"file-icon"},l.a.createElement("i",{className:"fas fa-upload"})),l.a.createElement("span",{className:"file-label"},"Choose File")))))}),Q=function(e){var t=h(),a=Object(o.a)(t,2),c=a[0],r=(a[1],Object(n.useState)("")),i=Object(o.a)(r,2),m=i[0],u=i[1],d=Object(s.f)();console.log(c.user),c.user||d.push("/signup");var f=Object(n.useState)(),E=Object(o.a)(f,2),p=E[0],g=E[1],b=Object(n.useState)(),v=Object(o.a)(b,2),N=v[0],C=v[1],O=Object(n.useState)(""),j=Object(o.a)(O,2),y=j[0],k=j[1],S=Object(n.useState)(""),R=Object(o.a)(S,2),I=R[0],x=R[1],A=Object(n.useRef)(),F=Object(n.useRef)(),_=Object(n.useRef)(),M=Object(n.useRef)(),P=Object(n.useRef)(),L=Object(n.useRef)(),T=Object(n.useRef)();Object(n.useRef)();return l.a.createElement("div",{className:"listing-page"},l.a.createElement(U,{currentPage:"post"}),l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container notification is-info is-light"},l.a.createElement(J,{title:"Item Name",placeholder:"lawnmower",reference:A}),l.a.createElement(J,{title:"Description",placeholder:"Tell us about your item",reference:F}),l.a.createElement(J,{title:"Price",placeholder:"$/day",reference:_}),l.a.createElement("label",{className:"label"},"Category"),l.a.createElement($,{label:"Select Category",items:["Electronics","Events","Home Improvement","Kitchen Appliances","Miscellaneous","Recreation","Yardwork"],extraFunction:function(e){k(e)}}),l.a.createElement("label",{className:"label"},"Location"),l.a.createElement($,{label:"Select Location",items:["Use current location","Use profile location","Enter a location"],extraFunction:function(e){x(e)}}),"Use my location"===I?navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude.toFixed(3),a=e.coords.longitude.toFixed(3);g(t),C(a)}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(J,{disabled:!0,value:c.user.address}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(J,{disabled:!0,value:c.user.city}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(J,{disabled:!0,value:c.user.state}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(J,{disabled:!0,value:c.user.zipCode}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(J,{placeholder:"Street",reference:M}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(J,{placeholder:"City",reference:L}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(J,{placeholder:"State",reference:T,maxlength:2}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(J,{placeholder:"Zipcode",reference:P,maxlength:5}):l.a.createElement(l.a.Fragment,null," "),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Item Image"),l.a.createElement(X,{image:m,uploadImage:function(e){var t=e.target.files[0],a=new FormData;a.append("upload_preset","sharemasters"),a.append("file",t),console.log(t),console.log(a),function(e){return w.a.post("https://api.cloudinary.com/v1_1/djz8ibfox/image/upload",e)}(a).then(function(e){console.log(e.data),u(e.data.secure_url)}).catch(function(e){return console.log(e)})}})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",onClick:function(e){if(e.preventDefault(),"Use current location"===I){var t={ownerId:c.user._id,name:A.current.value,description:F.current.value,category:y,address:"",city:"",state:"",zipCode:"",fullAddress:"",coordinates:{lat:p,lng:N},price:_.current.value,img:m,pendingRequest:!1,isRented:!1,active:!1};console.log(t),z(t).then(function(e){console.log(e),D("".concat(e.data.ownerId),{itemId:e.data._id}).then(function(e){alert("Item posted successfully"),d.push("/profile")}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}else a="".concat(c.user.address," ").concat(c.user.city," ").concat(c.user.state," ").concat(c.user.zipCode),n=function(e){var t=c.user.address,a=c.user.city,n=c.user.state,l=c.user.zipCode,r={ownerId:c.user._id,name:A.current.value,description:F.current.value,category:y,address:t,city:a,state:n,zipCode:l,fullAddress:"".concat(t," ").concat(a," ").concat(n," ").concat(l),coordinates:{lat:e.results[0].geometry.lat.toFixed(3),lng:e.results[0].geometry.lng.toFixed(3)},price:_.current.value,img:m,pendingRequest:!1,isRented:!1,active:!0};console.log(r),z(r).then(function(e){console.log(e),D("".concat(e.data.ownerId),{itemId:e.data._id}).then(function(e){alert("Item posted successfully"),d.push("/profile")}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})},fetch("https://api.opencagedata.com/geocode/v1/json?q="+a+"&key=f8dc0563994c4035af8cbb25cf96dce7&language=en&pretty=1").then(function(e){return e.json()}).then(function(e){n(e)}).catch(function(e){return console.log(e)});var a,n}},"Submit")))))},ee=(a(257),a(258),a(126)),te=a.n(ee);a(259);var ae=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=(t[0],t[1],h()),c=Object(o.a)(a,2),r=c[0],i=(c[1],Object(s.h)().id),m=(Object(n.useRef)(),Object(n.useRef)(),Object(n.useState)()),u=Object(o.a)(m,2),d=u[0],f=u[1],E=Object(n.useState)(),p=Object(o.a)(E,2),g=p[0],b=p[1],v=Object(n.useState)({}),N=Object(o.a)(v,2);return N[0],N[1],l.a.createElement(O.Container,{className:"notification"},l.a.createElement("div",{className:"title is-4"},"Request Rental"),l.a.createElement("div",{className:"item-request-form"},l.a.createElement("div",{className:"date-picker"},l.a.createElement("span",{className:"title is-6"},"Start Date"),l.a.createElement("div",null,l.a.createElement(te.a,{showPopperArrow:!1,selected:d,onChange:function(e){return f(e)},placeholderText:"Please choose start date.."}))),l.a.createElement("div",{className:"date-picker"},l.a.createElement("span",{className:"title is-6"},"End Date"),l.a.createElement("div",null,l.a.createElement(te.a,{showPopperArrow:!1,selected:g,onChange:function(e){return b(e)},minDate:d,placeholderText:"Please choose end date.."})))),l.a.createElement("div",{className:"field is-grouped button-container"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-primary",onClick:function(e){if(e.preventDefault(),d>g)return alert("The start date cannot be after the end date!");var t={itemId:i,renterId:r.user._id,startDate:d,endDate:g};A(t),setTimeout(function(){R(i,function(e){console.log(e),e=e[0].appointmentInfo[e[0].appointmentInfo.length-1]._id,console.log(e),I(i,{pendingRequest:!0,appointments:e})})},3e3)}},"Submit")),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-warning is-light",onClick:function(e){e.preventDefault(),x(i)}},"Cancel"))))};a(318);var ne=function(){return l.a.createElement("button",{className:"button is-primary is-light is-outlined message-owner",onClick:function(e){console.log("navigate user to email form or chat window")}},"Message the Owner")};var le=function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(s.h)().id,i=Object(n.useState)({}),m=Object(o.a)(i,2),u=m[0],d=m[1];return Object(n.useEffect)(function(){R(r).then(function(e){e=e.data[0],console.log("hi from useeffect in ItemInfo"),console.log(e),c(e),d(e.ownerId)})},[]),l.a.createElement(O.Section,null,l.a.createElement(O.Container,null,l.a.createElement("h1",{className:"is-size-3 has-text-weight-bold"},a.name),l.a.createElement(O.Columns,null,l.a.createElement("div",{className:"column is-half"},l.a.createElement("figure",{className:"image"},a.img?l.a.createElement("img",{src:a.img,alt:a.name}):l.a.createElement("img",{src:"https://bulma.io/images/placeholders/128x128.png"}))),l.a.createElement("div",{className:"column is-half"},l.a.createElement("div",{className:"title is-5"},"Price: $",a.price,"/day"),l.a.createElement("div",{className:"title is-5"},"User: ",u.username),a.city?l.a.createElement("div",{className:"title is-5"},"Location: ",a.city,", ",a.state):l.a.createElement("div",{className:"title is-5"},"Location: See map below"),l.a.createElement("div",{className:"title is-5"},"Description: ",a.description),l.a.createElement(ne,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ae,null)))))},ce=a(65);var re=Object(ce.withScriptjs)(Object(ce.withGoogleMap)(function(){return l.a.createElement(ce.GoogleMap,{defaultZoom:15,defaultCenter:{lat:40.741895,lng:-73.989308}},l.a.createElement(ce.Circle,{defaultCenter:{lat:40.741,lng:-73.989},radius:300,options:{strokeColor:"#00d1b2"}}))}));function ie(){return l.a.createElement("div",{style:{width:"69vw",height:"69vh"}},l.a.createElement(re,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAH6mTxzDGvX1DWOPmZDMAJazm7tDvuAt0",loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})}))}a(514);var se=function(){return l.a.createElement("div",null,l.a.createElement(U,null),l.a.createElement(le,null),l.a.createElement(ie,null))},oe=function(e){return l.a.createElement("div",{className:"tabs is-medium"},l.a.createElement("ul",null,e.tabs.map(function(t){return l.a.createElement("li",{key:t,"data-page":t,onClick:e.handlePageChange},l.a.createElement("a",{href:"#","data-page":t},t))})))},me=function(e){return l.a.createElement(O.Notification,{className:"level"},l.a.createElement("article",{className:"media"},l.a.createElement("div",{className:"media-left"},l.a.createElement("figure",{className:"image is-128x128"},l.a.createElement("img",{src:e.image}))),l.a.createElement("div",{className:"media-content"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"title is-5"},e.title),l.a.createElement("div",{className:"title is-5"},"Start Date: ",l.a.createElement("span",null,e.startDate)),l.a.createElement("div",{className:"title is-5"},"End Date: ",l.a.createElement("span",null,e.endDate))))),l.a.createElement("div",{className:"field is-grouped"},e.children))},ue=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(O.Button,Object.assign({className:"is-primary"},e),e.children))};var de=function(e){return l.a.createElement(O.Button,Object.assign({className:"is-primary is-light is-outlined"},e),"Message the Owner")},fe=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(O.Button,Object.assign({className:"is-success is-outlined"},e),e.children))},Ee=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(O.Button,Object.assign({className:"is-danger is-outlined"},e),e.children))},pe=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),m=Object(o.a)(r,2),u=m[0],f=m[1],E=Object(n.useState)([]),p=Object(o.a)(E,2),g=p[0],b=p[1],v=h(),N=Object(o.a)(v,2),C=N[0],j=N[1],y=Object(s.f)(),k=Object(n.useState)("Profile"),R=Object(o.a)(k,2),I=R[0],x=R[1],A=function(e){var t=e.filter(function(e){return e.pendingRequest});c(t)},z=function(e){var t=e.filter(function(e){return e.isRented});f(t)},F=function(e){var t=e.filter(function(e){return!e.active});b(t)},D=function(e){var t=e.target.getAttribute("data-id");(function(e,t){return w.a.put("/api/items/rentstatus/".concat(e),t)})(t,{isRented:!1,active:!1}).then(function(e){var a=L(t,C.user.rentals);z(a)})},_=function(e){var t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-renterid");(function(e,t){return w.a.put("/api/items/rentstatus/".concat(e),t)})(t,{active:!0}).then(function(e){var n,l;n=t,l={appointmendId:e.data.currentAppointment[0]},w.a.put("/api/items/appointments/".concat(n),l),function(e,t){w.a.put("/api/profile/rentals/remove/".concat(e),t)}(a,{itemId:t}),L(t,C.user.owned),F(C.user.rentals)})},M=function(e){var t=e.target.getAttribute("data-id");console.log(t);var a=e.target.getAttribute("data-renterid");console.log(a),function(e,t){return w.a.put("/api/items/rentstatus/".concat(e),t)}(t,{pendingRequest:!1,isRented:!0}).then(function(e){console.log(e.data),function(e,t){w.a.put("/api/profile/rentals/"+e,t)}(a,{itemId:t});var n=L(t,C.user.owned);A(n)}).catch(function(e){return console.log(e)})},P=function(e){var t=e.target.getAttribute("data-id");console.log(t),function(e,t){return w.a.put("/api/items/pendingstatus/".concat(e),t)}(t,{pendingRequest:!1}).then(function(){var e=L(t,C.user.owned);z(e)}).catch(function(e){return console.log(e)})},L=function(e,t){return t.filter(function(t){return t._id!==e})};return Object(n.useEffect)(function(){C.user?S(C.user.userId).then(function(e){var t;t=e.data[0],j({type:d,user:t})}):y.push("/signup")},[]),l.a.createElement("div",null,C.user?l.a.createElement("div",{className:"profile-page"},l.a.createElement(U,{currentPage:"profile"}),l.a.createElement("br",null),l.a.createElement(O.Container,null,l.a.createElement(oe,{handlePageChange:function(e){var t=e.target.getAttribute("data-page");switch(x(t),I){case"Rentals":z(C.user.rentals);break;case"Requests":A(C.user.owned);break;case"Returns":F(C.user.owned)}},tabs:["Profile","Rentals","Requests","Returns"]})),l.a.createElement(O.Section,null,l.a.createElement(O.Container,null,"Rentals"===I?l.a.createElement(l.a.Fragment,null,0!==u.length?u.map(function(e){return l.a.createElement(me,{image:e.img,title:e.name,startDate:e.currentAppointment[0].startDate,endDate:e.currentAppointment[0].endDate},l.a.createElement(ue,{onClick:D,"data-id":e._id},"Return"),l.a.createElement(de,null))}):l.a.createElement("div",null,"No Rentals")):"Requests"===I?l.a.createElement(l.a.Fragment,null,0!==a.length?a.map(function(e){return l.a.createElement(me,{image:e.img,title:e.name,startDate:e.currentAppointment[0].startDate,endDate:e.currentAppointment[0].endDate},l.a.createElement(fe,{onClick:M,"data-renterid":e.renterUserId,"data-id":e._id},"Accept"),l.a.createElement(Ee,{onClick:P,"data-id":e._id},"Reject"))}):l.a.createElement("div",null,"No Requests")):"Returns"===I?l.a.createElement(l.a.Fragment,null,0!==g.length?g.map(function(e){return l.a.createElement(me,{image:e.img,title:e.name,startDate:e.currentAppointment[0].startDate,endDate:e.currentAppointment[0].endDate},l.a.createElement(fe,{onClick:_,"data-renterid":e.renterUserId,"data-id":e._id},"Confirm"))}):l.a.createElement("div",null,"No Returns")):l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"subtitle is-2"},"".concat(C.user?C.user.firstName:l.a.createElement(l.a.Fragment,null)," ").concat(C.user?C.user.lastName:l.a.createElement(l.a.Fragment,null)," (").concat(C.user.username,")")),l.a.createElement("figure",{class:"image is-32x32"},l.a.createElement("img",{class:"is-rounded",src:C.user.icon})),l.a.createElement("div",{className:"content"},l.a.createElement("h6",{className:"subtitle is-6"},C.user?"".concat(C.user.address," ").concat(C.user.city,", ").concat(C.user.state," ").concat(C.user.zipCode):l.a.createElement(l.a.Fragment,null," ")),l.a.createElement("h6",{className:"subtitle is-6"},"Total listings: ",C.user?C.user.owned.length:"no listing"),l.a.createElement("h6",{className:"subtitle is-6"},"Items Renting: ",C.user?C.user.rentals.length:"no listing"),l.a.createElement(i.c,{to:"/editprofile"},l.a.createElement("i",{className:"fas fa-pencil-alt"}))))))):l.a.createElement("div",null))},ge=[{id:"butterfly",src:"./assets/icons/butterfly.png"},{id:"dog",src:"./assets/icons/dog.png"},{id:"falcon",src:"./assets/icons/falcon.png"},{id:"iguana",src:"./assets/icons/iguana.png"},{id:"octopus",src:"./assets/icons/octopus.png"},{id:"owl",src:"./assets/icons/owl.png"}],he=function(e){var t=h(),a=Object(o.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)(),s=Object(o.a)(i,2),m=s[0],u=s[1],f=Object(n.useRef)(),E=Object(n.useRef)(),p=Object(n.useRef)(),g=Object(n.useRef)(),y=Object(n.useRef)(),R=Object(n.useState)({}),I=Object(o.a)(R,2),x=I[0],A=I[1],z=function(){k().then(function(e){S(e.data.user._id).then(function(e){var t;t=e.data[0],r({type:d,user:t})})})},F=function(e){u(e.target.value)};return l.a.createElement(O.Section,null,l.a.createElement(O.Container,{className:"notification is-info is-light"},l.a.createElement("h3",{className:"subtitle is-3"},"".concat(c.user.firstName," ").concat(c.user.lastName)),l.a.createElement("h5",{className:"subtitle is-5"},c.user.username),l.a.createElement(O.Columns,null,l.a.createElement(O.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"Profile Icon"},l.a.createElement(v,null,l.a.createElement(O.Columns,null,ge.map(function(e){var t=e.id,a=e.src;return l.a.createElement(O.Columns.Column,{key:t,className:"is-narrow"},l.a.createElement("label",{className:"radio"},l.a.createElement("input",{type:"radio",name:"icon",value:a,onClick:F}),l.a.createElement("img",{src:a})))})))))),l.a.createElement(b,{label:"Address"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"5555 N Main St",defaultValue:c.user.address?c.user.address:"",ref:E}))),l.a.createElement(O.Columns,null,l.a.createElement(O.Columns.Column,null,l.a.createElement(b,{label:"City"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"Seattle",defaultValue:c.user.city?c.user.city:"",ref:p})))),l.a.createElement(O.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"State"},l.a.createElement(v,null,l.a.createElement(j,{stateRef:g,defaultState:c.user.state?c.user.state:null})))),l.a.createElement(O.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"Zip Code"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.zipCode?"is-danger":""),type:"text",placeholder:"00000",defaultValue:c.user.zipCode?c.user.zipCode:"",ref:y}))))),l.a.createElement(b,{label:"Email"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(x.email?"is-danger":""),type:"email",placeholder:"@email.com",defaultValue:c.user.email?c.user.email:"",ref:f}),l.a.createElement(N,{size:"small",side:"left",icon:"envelope"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement(O.Button,{className:"is-link",type:"submit",onClick:function(e){e.preventDefault();var t,a,n={address:E.current.value.length>0?E.current.value:c.user.address,city:p.current.value.length>0?p.current.value:c.user.city,state:g.current.value.length>0?g.current.value:c.user.state,zipCode:y.current.value.length>0?y.current.value:c.user.zipCode,email:f.current.value.length>0?f.current.value:c.user.email,icon:m||c.user.icon};(t=c.user.userId,a=n,w.a.put("/api/profile/"+t,a)).then(function(){A({}),alert("Profile Updated"),z()}).catch(function(e){A(e.response.data.err)})}},"Submit")),l.a.createElement(C,{type:"danger",message:x?x.message:""}))))},be=function(){var e=h(),t=Object(o.a)(e,2),a=t[0],c=(t[1],Object(s.f)());return Object(n.useEffect)(function(){a.user||c.push("/signup")},[]),l.a.createElement("div",null,l.a.createElement(U,null),a.user?l.a.createElement(he,null):l.a.createElement("div",null))};var ve=function(){return l.a.createElement(g,null,l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:q}),l.a.createElement(s.a,{exact:!0,path:"/signup",component:T}),l.a.createElement(s.a,{exact:!0,path:"/listings",component:Z}),l.a.createElement(s.a,{exact:!0,path:"/newlisting",component:Q}),l.a.createElement(s.a,{exact:!0,path:"/items/:id",component:se}),l.a.createElement(s.a,{exact:!0,path:"/profile",component:pe}),l.a.createElement(s.a,{exact:!0,path:"/editprofile",component:be})))))},Ne=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(l.a.createElement(ve,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ne?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ce(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Ce(e)})}}()}},[[210,1,2]]]);
//# sourceMappingURL=main.9cd3a1d1.chunk.js.map