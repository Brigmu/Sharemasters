(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{211:function(e,t,a){e.exports=a(517)},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},319:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(42),c=a.n(r),i=(a(216),a(8)),s=a(38),o=(a(217),a(5)),m=a(209),u=a(210),d="UPDATE_USER",f=Object(n.createContext)(),p=f.Provider,E=function(e,t){switch(t.type){case d:return Object(u.a)({},e,{user:t.user});case"CLEAR_USER":return{};default:return}},g=function(e){e.value;var t=Object(m.a)(e,["value"]),a=Object(n.useReducer)(E,{}),r=Object(o.a)(a,2),c=r[0],i=r[1];return l.a.createElement(p,Object.assign({value:[c,i]},t))},h=function(){return Object(n.useContext)(f)},b=(a(218),function(e){return l.a.createElement("div",{className:"field ".concat(e.fieldClass?e.filedClass:"")},l.a.createElement("label",{className:"label"},e.label?e.label:""),e.children)}),v=(a(219),function(e){return l.a.createElement("div",{className:"control ".concat(e.controlClass?e.controlClass:"")},e.children)}),N=(a(220),function(e){return l.a.createElement("span",{className:"icon is-".concat(e.size," is-").concat(e.side)},l.a.createElement("i",{className:"fas fa-".concat(e.icon)}))}),C=(a(221),function(e){return l.a.createElement("p",{className:"help is-".concat(e.type)},e.message)}),j=a(3),O=function(e){return l.a.createElement("div",{className:"select"},l.a.createElement("select",{ref:e.stateRef},l.a.createElement("option",{value:"default",disabled:!0},"Select State"),["AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FM","FL","GA","GU","HI","ID","IL","IN","IA","KS","KY","LA","ME","MH","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","MP","OH","OK","OR","PW","PA","PR","RI","SC","SD","TN","TX","UT","VT","VI","VA","WA","WV","WI","WY"].map(function(t){return l.a.createElement("option",{key:t,value:t,selected:t===e.defaultState}," ",t," ")})))},y=a(6),k=a.n(y),w=function(){return k.a.get("/api/passport/user_data")},S=function(e){return k.a.get("api/profile/"+e)},R=function(e){return k.a.get("/api/items/"+e)},I=function(e,t){return k.a.put("/api/items/"+t,e)},x=function(e){return k.a.post("/api/appointments",e)},A=function(e){return k.a.post("/api/items",e)},F=function(e){return k.a.post("/api/passport/login",e)},D=function(e,t){return k.a.put("/api/profile/owned/"+e,t)},z=function(e){var t=h(),a=Object(o.a)(t,2),r=(a[0],a[1]),c=Object(n.useRef)(),i=Object(n.useRef)(),m=Object(n.useRef)(),u=Object(n.useRef)(),f=Object(n.useRef)(),p=Object(n.useRef)(),E=Object(n.useRef)(),g=Object(n.useRef)(),y=Object(n.useRef)(),R=Object(n.useState)({error:!1}),I=Object(o.a)(R,2),x=I[0],A=I[1],D=[c,i,m,u,f,y,p,E,g],z=Object(s.f)(),_=function(e){F(e).then(function(){w().then(function(e){S(e.data.user._id).then(function(e){var t;t=e.data[0],r({type:d,user:t}),z.push("/")})}).catch(function(e){A(e.response.data)})})};return l.a.createElement(j.Section,null,l.a.createElement("div",{className:"container notification is-info is-light"},l.a.createElement("h1",null,"Sign Up"),l.a.createElement(j.Columns,null,l.a.createElement(j.Columns.Column,null,l.a.createElement(b,{label:"First Name"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.firstName?"is-danger":""),type:"text",placeholder:"Alex",ref:m})))),l.a.createElement(j.Columns.Column,null,l.a.createElement(b,{label:"Last Name"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.lastName?"is-danger":""),type:"text",placeholder:"Lee",ref:u}))))),l.a.createElement(b,{label:"Email"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(x.email?"is-danger":""),type:"email",placeholder:"Email input",ref:f}),l.a.createElement(N,{size:"small",side:"left",icon:"envelope"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement(b,{label:"Address"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"5555 N Main St",ref:p}))),l.a.createElement(j.Columns,null,l.a.createElement(j.Columns.Column,null,l.a.createElement(b,{label:"City"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"Seattle",ref:E})))),l.a.createElement(j.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"State"},l.a.createElement(v,null,l.a.createElement(O,{stateRef:g})))),l.a.createElement(j.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"Zip Code"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.zipCode?"is-danger":""),type:"text",placeholder:"98001",ref:y}))))),l.a.createElement(b,{label:"Username"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat("UserExistsError"===x.name?"is-danger":""),type:"text",placeholder:"Username",ref:c}),l.a.createElement(N,{size:"small",side:"left",icon:"user"}),l.a.createElement(N,{size:"small",side:"right",icon:"check"}))),l.a.createElement(b,{label:"Password"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat("MissingPasswordError"===x.name?"is-danger":""),type:"password",placeholder:"Enter a secure password",ref:i}),l.a.createElement(N,{size:"small",side:"left",icon:"lock"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement("div",{className:"field"},l.a.createElement(j.Button,{style:{width:"75px"},className:"button is-link",type:"submit",onSubmit:function(e){e.preventDefault();var t,a={firstName:m.current.value,lastName:u.current.value,username:c.current.value,address:p.current.value,city:E.current.value,state:g.current.value,zipCode:y.current.value,email:f.current.value,password:i.current.value},n={username:c.current.value,password:i.current.value};(t=n,k.a.post("/api/passport/signup",t)).then(function(){var e;A({error:null}),(e=a,k.a.post("/api/profile",e)).then(function(e){_(n),D.forEach(function(e){return e.current.value=""})}).catch(function(e){var t;t=a.username,k.a.delete("api/passport/"+t),e.response.data.err.errors?A(e.response.data.err.errors):e.response.data.err.keyValue?e.response.data.err.keyValue.email&&A({email:!0,message:"Email has already been registered"}):A(e.response.data)})}).catch(function(e){A(e.response.data.err?e.response.data.err:e.response.data)})}},"Submit"),l.a.createElement(C,{type:"danger",message:x?x.message:""}))))},_=(a(243),a(244),function(e){var t=h(),a=Object(o.a)(t,2),n=(a[0],a[1]),r=Object(s.f)();return l.a.createElement("button",{onClick:function(e){k.a.get("/api/passport/logout").then(function(){n({type:"CLEAR_USER"}),r.push("/")})},className:"button is-danger is-light"},"Logout")}),M=function(){return l.a.createElement(i.c,{to:"/signup",className:"button is-primary is-inverted"},l.a.createElement("span",null,"Sign Up"))},P=(a(245),function(e){var t=h(),a=Object(o.a)(t,2),r=a[0],c=(a[1],Object(n.useState)({currentClassName:"",isClicked:!0})),m=Object(o.a)(c,2),u=m[0],d=m[1],f=Object(s.g)();return l.a.createElement(j.Navbar,{color:"primary",className:"is-fixed-top"},l.a.createElement(j.Navbar.Brand,null,"/"===f.pathname?"":l.a.createElement(j.Navbar.Item,null,l.a.createElement(i.c,{to:"/",className:"inactive",activeClassName:"is-active"},l.a.createElement("h1",null,"SHAREISH"))),l.a.createElement(j.Navbar.Burger,{onClick:function(){u.isClicked?d({isClicked:!1,currentClassName:"is-active"}):d({currentClassName:"",isClicked:!0}),console.log(u)}})),l.a.createElement(j.Navbar.Menu,{className:u.currentClassName},l.a.createElement(j.Navbar.Container,null),l.a.createElement(j.Navbar.Container,{position:"end"},"/profile"===f.pathname?l.a.createElement(j.Navbar.Item,null,l.a.createElement(i.c,{to:"/newlisting",className:"button is-primary is-light"},"Post a Listing")):"","/profile"===f.pathname?l.a.createElement(j.Navbar.Item,null,l.a.createElement(i.c,{to:"/listings",className:"button is-primary is-light"},"Browse Listings")):""),l.a.createElement(j.Navbar.Container,null,r.user?l.a.createElement("div",{className:"navbar-item dropdown is-hoverable"},l.a.createElement("div",{className:"dropdown-trigger"},l.a.createElement("button",{className:"button is-primary","aria-haspopup":"true","aria-controls":"dropdown-menu4"},r.user?r.user.username:"",l.a.createElement("img",{style:{marginLeft:"10px"},src:r.user?r.user.icon:""}),l.a.createElement("span",{className:"icon is-small"},l.a.createElement("i",{className:"fas fa-angle-down","aria-hidden":"true"})))),l.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu4",role:"menu"},l.a.createElement("div",{className:"dropdown-content"},l.a.createElement("div",{className:"dropdown-item"},l.a.createElement(i.c,{activeClassName:"is-active",to:"/profile"},"Profile")),l.a.createElement("div",{className:"dropdown-item"},l.a.createElement(_,null))))):"",r.user||"/signup"===f.pathname?"":l.a.createElement(j.Navbar.Item,null,l.a.createElement(M,null)))))}),L=function(){var e=h(),t=Object(o.a)(e,2),a=(t[0],t[1]),r=Object(n.useRef)(),c=Object(n.useRef)(),i=[r,c],m=Object(n.useState)({}),u=Object(o.a)(m,2),f=u[0],p=u[1],E=Object(s.f)();return l.a.createElement(j.Section,null,l.a.createElement(j.Container,{class:"notification"},l.a.createElement("div",{className:"title"},"Welcome back"),l.a.createElement("h1",null,"Log In"),l.a.createElement("br",null),l.a.createElement(j.Columns,null,l.a.createElement(j.Columns.Column,null,l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={username:r.current.value,password:c.current.value};F(t).then(function(e){p({error:!1}),w().then(function(e){S(e.data.user._id).then(function(e){var t;t=e.data[0],a({type:d,user:t}),E.push("/")})})}).catch(function(e){p({error:!0,message:"Incorrect username/password combination"})}),i.forEach(function(e){return e.current.value=""})}},l.a.createElement(b,null,l.a.createElement(v,{controlClass:"has-icons-left"},l.a.createElement("input",{className:"input ".concat(f.error?"is-danger":""),type:"text",placeholder:"Username",ref:r}),l.a.createElement(N,{size:"small",side:"left",icon:"user"}))),l.a.createElement(b,null,l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(f.error?"is-danger":""),type:"password",placeholder:"Password",ref:c}),l.a.createElement(N,{size:"small",side:"left",icon:"lock"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement(v,null,l.a.createElement("input",{className:"button is-info",type:"submit",value:"Log In"})))),l.a.createElement(j.Columns.Column,{className:"is-horizontal is-narrow"},l.a.createElement(b,{fieldClass:"is-horizontal"},f.error?l.a.createElement("div",{className:"has-text-danger"},f.message):l.a.createElement(l.a.Fragment,null))))))},U=function(){return l.a.createElement("div",{className:"signup-page"},l.a.createElement(P,null),l.a.createElement(j.Container,null,l.a.createElement(j.Columns,null,l.a.createElement(j.Columns.Column,null,l.a.createElement(L,null)),l.a.createElement(j.Columns.Column,null,l.a.createElement(z,null)))))};a(246),a(247),a(248);var T=function(e){return l.a.createElement(j.Container,null,l.a.createElement("form",{className:"tile field has-addons"},l.a.createElement("div",{className:"control is-expanded"},l.a.createElement("input",{className:"input",value:e.search,onChange:e.handleInputChange,name:"term",type:"text",placeholder:"What are you looking for?",id:"term",ref:e.reference})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-info",onClick:e.handleSearch},l.a.createElement("span",{className:"icon"},l.a.createElement("i",{className:"fas fa-search"}))))))};var H=function(e){var t=h(),a=Object(o.a)(t,2),r=(a[0],a[1],Object(s.g)(),Object(n.useRef)()),c=Object(s.f)();return l.a.createElement("section",{className:"hero is-primary is-small is-mobile"},l.a.createElement("div",{className:"hero-head"},l.a.createElement(P,null)),l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container has-text-centered"},l.a.createElement("h1",{className:"title"},"Shareish!"),l.a.createElement("h2",{className:"subtitle"},"share what you cherish")),l.a.createElement("br",null),l.a.createElement(T,{reference:r,handleSearch:function(e){e.preventDefault(),console.log(r.current.value),localStorage.setItem("searchTerm",r.current.value),c.push("/listings")}})))},q=function(){var e=h(),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)(function(){a.user||w().then(function(e){e.data.user&&S(e.data.user._id).then(function(e){var t;t=e.data[0],r({type:d,user:t}),console.log(t)})})},[]),l.a.createElement("div",null,l.a.createElement("div",{className:"navbar is-fixed-top is-primary"}),l.a.createElement(H,null),l.a.createElement(j.Section,null,l.a.createElement(j.Tile,{kind:"ancestor"},l.a.createElement(j.Tile,{kind:"parent"},l.a.createElement(j.Tile,{renderAs:"article",kind:"child",notification:!0},l.a.createElement(j.Heading,{className:"has-text-centered"},a.user?"Welcome, ".concat(a.user.username,"!"):"Welcome!"))))),l.a.createElement(j.Section,null,l.a.createElement(j.Container,null,l.a.createElement(j.Columns,null,[{message:"Post a Listing",color:"is-primary is-light is-outlined",link:"newlisting"},{message:"Browse Listings",color:"is-primary",link:"listings"},{message:"View Your Profile",color:"is-primary is-light is-outlined",link:"profile"}].map(function(e){return l.a.createElement(j.Columns.Column,null,l.a.createElement(i.b,{to:"/"+e.link,activeClassName:"is-active"},l.a.createElement("div",{key:e.link,className:"notification has-text-centered "+e.color},e.message)))})))))},W=a(208),B=(a(249),a(250),function(e){return l.a.createElement("div",Object.assign({className:"columns ".concat(e.size?e.size:""),ref:e.reference,id:e.id},e))}),V=(a(251),function(e){return l.a.createElement("div",Object.assign({className:"column ".concat(e.size?e.size:"")},e))});a(252);var Y=function(e){return l.a.createElement("div",{className:"box",key:e._id,"data-id":e.itemId,onClick:e.handleItemClick},l.a.createElement("figure",{className:"image is-156x156"},l.a.createElement("img",{"data-id":e.itemId,src:e.img,alt:""})),l.a.createElement("h2",{"data-id":e.itemId},e.itemName),l.a.createElement("h2",{"data-id":e.itemId},"$",e.price,"/day"))},K=(a(253),function(e){return l.a.createElement("div",{className:"title level notification ".concat(e.colorClass)},l.a.createElement("span",{className:"link-offset",id:e.id}),l.a.createElement("p",{className:"title"},e.title),l.a.createElement("button",{className:"scroll-btn scroll-left","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("span",{className:"icon is-small","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("i",{className:"fas fa-angle-left","data-direction":"left","data-category":e.title,onClick:e.handleScrollClick}))),l.a.createElement("button",{className:"scroll-btn scroll-right","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("span",{className:"icon is-small","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick},l.a.createElement("i",{className:"fas fa-angle-right","data-direction":"right","data-category":e.title,onClick:e.handleScrollClick}))))}),$=function(e){var t=Object(n.useRef)();Object(n.useEffect)(function(){console.log("happened"),k.a.get("/api/items/all/unrented").then(function(e){console.log(e.data),console.log("function happened"),i(e.data)}).catch(function(e){return console.log(e)});var e=localStorage.getItem("searchTerm");f(e),t.current.value=e,localStorage.removeItem("searchTerm")},[]);var a=Object(n.useState)([]),r=Object(o.a)(a,2),c=r[0],i=r[1],m=Object(n.useState)(),u=Object(o.a)(m,2),d=u[0],f=u[1],p=Object(n.useState)(Object(W.a)(c)),E=Object(o.a)(p,2),g=E[0],h=E[1],b=Object(n.useState)([]),v=Object(o.a)(b,2),N=v[0],C=v[1],j=Object(n.useState)([]),O=Object(o.a)(j,2),y=O[0],w=O[1],S=Object(n.useState)([]),R=Object(o.a)(S,2),I=R[0],x=R[1],A=Object(n.useState)([]),F=Object(o.a)(A,2),D=F[0],z=F[1],_=Object(n.useState)([]),M=Object(o.a)(_,2),L=M[0],U=M[1],T=Object(n.useState)([]),H=Object(o.a)(T,2),q=H[0],$=H[1],Z=Object(n.useState)([]),G=Object(o.a)(Z,2),J=G[0],X=G[1],Q=Object(n.useState)("name"),ee=Object(o.a)(Q,2),te=ee[0],ae=ee[1];Object(n.useEffect)(function(){switch(te){case"name":var e;d&&(e=d.toLowerCase());var t=new RegExp(e),a=c.filter(function(e){return t.test(e.name.toLowerCase())});h(a);break;case"price":d?(a=c.filter(function(e){return parseInt(e.price)<=parseInt(d)}),h(a)):h(c);break;default:h(c)}},[d,c,te]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Electronics"===e.category});C(e)},[g,d]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Events"===e.category});w(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Home Improvement"===e.category});x(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Kitchen Appliances"===e.category});z(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Miscellaneous"===e.category});U(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Recreation"===e.category});$(e)},[g]),Object(n.useEffect)(function(){var e=g.filter(function(e){return"Yardwork"===e.category});X(e)},[g]);var ne=Object(n.useRef)(),le=Object(n.useRef)(),re=Object(n.useRef)(),ce=Object(n.useRef)(),ie=Object(n.useRef)(),se=Object(n.useRef)(),oe=Object(n.useRef)(),me=Object(n.useRef)(),ue=function(e){console.log(e.target);var t,a=e.target.getAttribute("data-direction"),n=e.target.getAttribute("data-category");switch(console.log(n),n){case"All":t=le;break;case"Electronics":t=ie;break;case"Events":t=se;break;case"Yardwork":t=ne;break;case"Kitchen Appliances":t=re;break;case"Home Improvement":t=ce;break;case"Miscellaneous":t=oe;break;case"Recreation":t=me;break;default:t=le}switch(a){case"left":t.current.scrollBy({top:0,left:-400,behavior:"smooth"});break;case"right":t.current.scrollBy({top:0,left:400,behavior:"smooth"});break;default:console.log("nothing happened")}},de=Object(s.f)(),fe=function(e){ae(e.target.value)},pe=function(e){console.log(e.target);var t=e.target.getAttribute("data-id");console.log(t),de.push("/items/".concat(t))};return l.a.createElement("div",{className:"listings-page"},l.a.createElement(P,null),l.a.createElement("section",{className:"section"},l.a.createElement(B,null,l.a.createElement(V,{size:"is-2 is-mobile"},l.a.createElement("div",{className:"sidebar"},l.a.createElement("p",null,"Select filter type"),"price"===te?l.a.createElement("ul",{id:"filters"},l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"nameFilter",value:"name",name:"filter",onChange:fe}),l.a.createElement("label",{htmlFor:"nameFilter"},"Name")),l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"priceFilter",value:"price",name:"filter",onChange:fe,checked:!0}),l.a.createElement("label",{htmlFor:"priceFilter"},"Price"))):l.a.createElement("ul",{id:"filters"},l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"nameFilter",value:"name",name:"filter",checked:!0,onChange:fe}),l.a.createElement("label",{htmlFor:"nameFilter"},"Name")),l.a.createElement("li",null,l.a.createElement("input",{type:"radio",id:"priceFilter",value:"price",name:"filter",onChange:fe}),l.a.createElement("label",{htmlFor:"priceFilter"},"Price"))),l.a.createElement("input",{type:"text",id:"filter",ref:t,onChange:function(e){return f(e.target.value)}}),l.a.createElement("hr",null),l.a.createElement("div",{className:"title is-4"},"Category List"),l.a.createElement("div",{className:""},l.a.createElement("li",null,l.a.createElement("a",{href:"#all"},"All")),l.a.createElement("li",null,l.a.createElement("a",{href:"#electronics"},"Electronics")),l.a.createElement("li",null,l.a.createElement("a",{href:"#events"},"Events")),l.a.createElement("li",null,l.a.createElement("a",{href:"#home-imp"},"Home Improvement")),l.a.createElement("li",null,l.a.createElement("a",{href:"#kitchen"},"Kitchen Appliances")),l.a.createElement("li",null,l.a.createElement("a",{href:"#misc"},"Miscellaneous")),l.a.createElement("li",null,l.a.createElement("a",{href:"#recreation"},"Recreation")),l.a.createElement("li",null,l.a.createElement("a",{href:"#yard"},"Yardwork"))))),l.a.createElement(V,null,l.a.createElement(K,{title:"All",colorClass:"is-info",id:"all",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:le},g.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):g.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(K,{title:"Electronics",colorClass:"is-danger",id:"electronics",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:ie},N.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):N.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(K,{title:"Events",colorClass:"is-primary",id:"events",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:se},y.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):y.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(K,{title:"Home Improvement",colorClass:"is-info",id:"home-imp",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:ce},I.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):I.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(K,{title:"Kitchen Appliances",colorClass:"is-danger",id:"kitchen",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:re},D.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):D.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(K,{title:"Miscellaneous",colorClass:"is-primary",id:"misc",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:oe},L.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):L.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(K,{title:"Recreation",colorClass:"is-info",id:"recreation",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:me},q.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):q.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))})),l.a.createElement(K,{title:"Yardwork",colorClass:"is-danger",id:"yard",handleScrollClick:ue}),l.a.createElement(B,{size:"carousel",reference:ne},J.length<1?l.a.createElement("h1",{className:"nomatch"},"No Matches Found"):J.map(function(e){return l.a.createElement(V,{size:"is-2 carousel-item"},l.a.createElement(Y,{handleItemClick:pe,itemId:e._id,price:e.price,img:e.img,itemName:e.name,id:e._id}))}))))))},Z=(a(254),a(255),function(e){return l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},e.title),l.a.createElement("div",{className:"control"},l.a.createElement("input",Object.assign({className:"input",type:"text",placeholder:e.placeholder,ref:e.reference},e))))}),G=(a(256),a(140),function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],c=a[1];return l.a.createElement(j.Dropdown,{label:e.label,onChange:function(t){c(t),e.extraFunction&&e.extraFunction(t)},value:r},e.items.map(function(e){return l.a.createElement(j.Dropdown.Item,{value:e},e)}))}),J=(a(257),function(e){return l.a.createElement("div",{className:"container"},e.image?l.a.createElement("img",{className:"item-img",style:{width:"200px"},src:e.image}):l.a.createElement("div",{className:"file"},l.a.createElement("label",{className:"file-label"},l.a.createElement("input",{name:"file",type:"file",className:"file-input","data-cloudinary-field":"image_id","data-form-data":"{ 'transformation': {'crop':'limit','tags':'samples','width':3000,'height':2000}}",onChange:e.uploadImage}),l.a.createElement("span",{className:"file-cta"},l.a.createElement("span",{className:"file-icon"},l.a.createElement("i",{className:"fas fa-upload"})),l.a.createElement("span",{className:"file-label"},"Choose File")))))}),X=function(e){var t=h(),a=Object(o.a)(t,2),r=a[0],c=(a[1],Object(n.useState)("")),i=Object(o.a)(c,2),m=i[0],u=i[1],d=Object(s.f)();r.user||d.push("/signup");var f=Object(n.useState)(),p=Object(o.a)(f,2),E=p[0],g=p[1],b=Object(n.useState)(),v=Object(o.a)(b,2),N=v[0],C=v[1],j=Object(n.useState)(""),O=Object(o.a)(j,2),y=O[0],w=O[1],S=Object(n.useState)(""),R=Object(o.a)(S,2),I=R[0],x=R[1],F=Object(n.useRef)(),z=Object(n.useRef)(),_=Object(n.useRef)(),M=Object(n.useRef)(),L=Object(n.useRef)(),U=Object(n.useRef)(),T=Object(n.useRef)(),H=(Object(n.useRef)(),function(){var e=!0;return""===F.current.value&&(e=!1),""===z.current.value&&(e=!1),""===_.current.value&&(e=!1),y||(e=!1),m||(e=!1),""===I&&(e=!1),"Enter a location"===I&&(""!==M.current.value&&""!==U.current.value&&""!==T.current.value&&""!==L.current.value||(e=!1)),e});return l.a.createElement("div",{className:"listing-page"},l.a.createElement(P,{currentPage:"post"}),l.a.createElement("section",{className:"section"},l.a.createElement("div",{className:"container notification is-info is-light"},l.a.createElement(Z,{title:"Item Name",placeholder:"lawnmower",reference:F}),l.a.createElement(Z,{title:"Description",placeholder:"Tell us about your item",reference:z}),l.a.createElement(Z,{title:"Price",placeholder:"$/day",reference:_}),l.a.createElement("label",{className:"label"},"Category"),l.a.createElement(G,{label:"Select Category",items:["Electronics","Events","Home Improvement","Kitchen Appliances","Miscellaneous","Recreation","Yardwork"],extraFunction:function(e){w(e)}}),l.a.createElement("label",{className:"label"},"Location"),l.a.createElement(G,{label:"Select Location",items:["Use current location","Use profile location","Enter a location"],extraFunction:function(e){x(e)}}),"Use my location"===I?navigator.geolocation.getCurrentPosition(function(e){var t=e.coords.latitude.toFixed(3),a=e.coords.longitude.toFixed(3);g(t),C(a)}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(Z,{disabled:!0,value:r.user.address}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(Z,{disabled:!0,value:r.user.city}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(Z,{disabled:!0,value:r.user.state}):l.a.createElement(l.a.Fragment,null," "),"Use profile location"===I?l.a.createElement(Z,{disabled:!0,value:r.user.zipCode}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(Z,{placeholder:"Street",reference:M}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(Z,{placeholder:"City",reference:U}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(Z,{placeholder:"State",reference:T,maxLength:2}):l.a.createElement(l.a.Fragment,null," "),"Enter a location"===I?l.a.createElement(Z,{placeholder:"Zipcode",reference:L,maxLength:5}):l.a.createElement(l.a.Fragment,null," "),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Item Image"),l.a.createElement(J,{image:m,uploadImage:function(e){var t=e.target.files[0],a=new FormData;a.append("upload_preset","sharemasters"),a.append("file",t),console.log(t),console.log(a),function(e){return k.a.post("https://api.cloudinary.com/v1_1/djz8ibfox/image/upload",e)}(a).then(function(e){console.log(e.data),u(e.data.secure_url)}).catch(function(e){return console.log(e)})}})),l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-link",onClick:function(e){var t,a;if(e.preventDefault(),H())if("Use current location"===I){var n={ownerId:r.user._id,name:F.current.value,description:z.current.value,category:y,address:"",city:"",state:"",zipCode:"",fullAddress:"",coordinates:{lat:E,lng:N},price:_.current.value,img:m,pendingRequest:!1,isRented:!1,active:!1};A(n).then(function(e){console.log(e),D("".concat(e.data.ownerId),{itemId:e.data._id}).then(function(e){console.log("got here"),alert("Item posted successfully"),d.push("/profile"),console.log("this happened")}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}else t="".concat(r.user.address," ").concat(r.user.city," ").concat(r.user.state," ").concat(r.user.zipCode),a=function(e){var t=r.user.address,a=r.user.city,n=r.user.state,l=r.user.zipCode,c={ownerId:r.user._id,name:F.current.value,description:z.current.value,category:y,address:t,city:a,state:n,zipCode:l,fullAddress:"".concat(t," ").concat(a," ").concat(n," ").concat(l),coordinates:{lat:e.results[0].geometry.lat.toFixed(3),lng:e.results[0].geometry.lng.toFixed(3)},price:_.current.value,img:m,pendingRequest:!1,isRented:!1,active:!0};A(c).then(function(e){console.log(e),D("".concat(e.data.ownerId),{itemId:e.data._id}).then(function(e){console.log("got here"),alert("Item posted successfully"),d.push("/profile")}),console.log("this happened").catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})},fetch("https://api.opencagedata.com/geocode/v1/json?q="+t+"&key=f8dc0563994c4035af8cbb25cf96dce7&language=en&pretty=1").then(function(e){return e.json()}).then(function(e){a(e)}).catch(function(e){return console.log(e)});else alert("Please fill out all fields")}},"Submit")))))},Q=(a(258),a(259),a(126)),ee=a.n(Q);a(260);var te=function(){var e=h(),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(s.h)().id),c=Object(n.useState)(),i=Object(o.a)(c,2),m=i[0],u=i[1],d=Object(n.useState)(),f=Object(o.a)(d,2),p=f[0],E=f[1],g=Object(n.useState)({}),b=Object(o.a)(g,2),v=(b[0],b[1],Object(s.f)());return l.a.createElement(j.Container,{className:"notification"},l.a.createElement("div",{className:"title is-4"},"Request Rental"),l.a.createElement("div",{className:"item-request-form"},l.a.createElement("div",{className:"date-picker"},l.a.createElement("span",{className:"title is-6"},"Start Date"),l.a.createElement("div",null,l.a.createElement(ee.a,{showPopperArrow:!1,selected:m,onChange:function(e){return u(e)},minDate:Date.now(),placeholderText:"Please choose start date.."}))),l.a.createElement("div",{className:"date-picker"},l.a.createElement("span",{className:"title is-6"},"End Date"),l.a.createElement("div",null,l.a.createElement(ee.a,{showPopperArrow:!1,selected:p,onChange:function(e){return E(e)},minDate:m,placeholderText:"Please choose end date.."})))),l.a.createElement("div",{className:"field is-grouped button-container"},l.a.createElement("div",{className:"control"},l.a.createElement("button",{className:"button is-primary",onClick:function(e){if(e.preventDefault(),m>p)return alert("The start date cannot be after the end date!");var t="".concat(m.getMonth(),"-").concat(m.getDate(),"-").concat(m.getFullYear()),n="".concat(p.getMonth(),"-").concat(p.getDate(),"-").concat(p.getFullYear()),l={itemId:r,renterId:a.user._id,startDate:t,endDate:n};x(l).then(function(e){var t=e.data._id;I({renterUserId:a.user._id,pendingRequest:!0,$push:{currentAppointment:t}},r).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),alert("Request sent"),v.push("/listings")}).catch(function(e){return console.log(e)})}},"Submit"))))};a(319);var ae=function(){var e=Object(s.h)().id,t=h(),a=Object(o.a)(t,2),r=(a[0],a[1],Object(n.useState)({})),c=Object(o.a)(r,2),i=(c[0],c[1],Object(n.useState)({})),m=Object(o.a)(i,2),u=(m[0],m[1],Object(n.useState)({})),d=Object(o.a)(u,2),f=d[0],p=d[1];return Object(n.useEffect)(function(){R(e).then(function(e){console.log(e),e=e.data[0],p("mailto:"+e.ownerId.email)})},[]),l.a.createElement("div",null,l.a.createElement("a",{href:f},l.a.createElement("button",{className:"button is-primary is-light is-outlined message-owner"},"Message the Owner")))};var ne=function(){var e=Object(s.h)().id,t=Object(n.useState)({}),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({}),m=Object(o.a)(i,2),u=m[0],d=m[1],f=h(),p=Object(o.a)(f,1)[0];return Object(n.useEffect)(function(){R(e).then(function(e){e=e.data[0],console.log("hi from useeffect in ItemInfo"),console.log(e),c(e),d(e.ownerId)})},[]),l.a.createElement(j.Section,null,l.a.createElement(j.Container,null,l.a.createElement("h1",{className:"is-size-3 has-text-weight-bold"},r.name),l.a.createElement(j.Columns,null,l.a.createElement("div",{className:"column is-half"},l.a.createElement("figure",{className:"image"},r.img?l.a.createElement("img",{src:r.img,alt:r.name}):l.a.createElement("img",{src:"https://bulma.io/images/placeholders/128x128.png"}))),l.a.createElement("div",{className:"column is-half"},l.a.createElement("div",{className:"title is-5"},"Price: $",r.price,"/day"),r.city?l.a.createElement("div",{className:"title is-5"},"Location: ",r.city,", ",r.state):l.a.createElement("div",{className:"title is-5"},"Location: See map below"),l.a.createElement("div",{className:"title is-5"},"Description: ",r.description),l.a.createElement(ae,null),l.a.createElement("br",null),l.a.createElement("br",null),p.user?p.user.username===u.username?l.a.createElement("h2",null,"This is your item"):r.pendingRequest||r.isRented?l.a.createElement("p",{className:"not-available-alert"},"*** This item is rented or an appointment is pending. Check back later or message the owner for more info."):l.a.createElement(te,null):l.a.createElement("h2",null,"Please login to rent an item")))))},le=a(65);a(515);var re=Object(le.withScriptjs)(Object(le.withGoogleMap)(function(){var e=Object(n.useState)({}),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),i=Object(o.a)(c,2),m=i[0],u=i[1],d=Object(s.h)().id;return Object(n.useEffect)(function(){R(d).then(function(e){console.log("hi from googlemaps"),console.log(e);var t=e.data[0].coordinates;console.log(t),r(t.lat),u(t.lng)})},[]),l.a.createElement(le.GoogleMap,{defaultZoom:14,center:{lat:a,lng:m}},l.a.createElement(le.Circle,{center:{lat:a,lng:m},radius:300,options:{strokeColor:"#00d1b2"}}))}));function ce(){return l.a.createElement(j.Container,{className:"google-maps-container"},l.a.createElement(j.Columns,null,l.a.createElement("div",{style:{width:"100vw",height:"69vh"}},l.a.createElement(re,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAH6mTxzDGvX1DWOPmZDMAJazm7tDvuAt0",loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})}))))}a(516);var ie=function(){return l.a.createElement("div",null,l.a.createElement(P,null),l.a.createElement(ne,null),l.a.createElement(ce,null))},se=function(e){return l.a.createElement("div",{className:"tabs is-medium"},l.a.createElement("ul",null,e.tabs.map(function(t){return l.a.createElement("li",{key:t,"data-page":t,onClick:e.handlePageChange},l.a.createElement("a",{href:"#","data-page":t},t))})))},oe=function(e){return l.a.createElement(j.Notification,{className:"level"},l.a.createElement("article",{className:"media"},l.a.createElement("div",{className:"media-left"},l.a.createElement("figure",{className:"image is-128x128"},l.a.createElement("img",{src:e.image}))),l.a.createElement("div",{className:"media-content"},l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"title is-5"},"Item Name: ",e.title),e.startDate?l.a.createElement("div",{className:"title is-5"},"Start Date: ",l.a.createElement("span",null,e.startDate)):l.a.createElement(l.a.Fragment,null),e.endDate?l.a.createElement("div",{className:"title is-5"},"End Date: ",l.a.createElement("span",null,e.endDate)):l.a.createElement(l.a.Fragment,null),e.description?l.a.createElement("div",{className:"title is-5"},"Description: ",l.a.createElement("span",null,e.description)," "):l.a.createElement(l.a.Fragment,null),e.price?l.a.createElement("div",{className:"title is-5"},"Price: ",l.a.createElement("span",null,"$",e.price,"/day")," "):l.a.createElement(l.a.Fragment,null),e.rented?l.a.createElement("div",{className:"title is-5"},"Rental Status: ",l.a.createElement("span",null,e.rented.itemStatus?"Rented":"Available")," "):l.a.createElement(l.a.Fragment,null),e.history?l.a.createElement("div",{className:"title is-5"},"Number of times rented: ",l.a.createElement("span",null,e.history.length)," "):l.a.createElement(l.a.Fragment,null)))),l.a.createElement("div",{className:"field is-grouped"},e.children))},me=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(j.Button,Object.assign({className:"is-primary"},e),e.children))},ue=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(j.Button,Object.assign({className:"is-success is-outlined"},e),e.children))},de=function(e){return l.a.createElement("p",{className:"control"},l.a.createElement(j.Button,Object.assign({className:"is-danger is-outlined"},e),e.children))},fe=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),m=Object(o.a)(c,2),u=m[0],f=m[1],p=Object(n.useState)([]),E=Object(o.a)(p,2),g=E[0],b=E[1],v=Object(n.useState)([]),N=Object(o.a)(v,2),C=N[0],O=N[1],y=Object(n.useState)([]),w=Object(o.a)(y,2),R=w[0],I=w[1],x=h(),A=Object(o.a)(x,2),F=A[0],D=A[1],z=Object(s.f)(),_=Object(n.useState)("Profile"),M=Object(o.a)(_,2),L=M[0],U=M[1],T=function(e){var t=e.filter(function(e){return e.pendingRequest});r(t)},H=function(e){var t=e.filter(function(e){return e.isRented});f(t)},q=function(e){var t=e.filter(function(e){return!e.active});b(t)},W=function(e){var t=e.target.getAttribute("data-id");(function(e,t){return k.a.put("/api/items/rentstatus/".concat(e),t)})(t,{isRented:!1,active:!1}).then(function(e){var a=K(t,F.user.rentals);H(a)})},B=function(e){var t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-renterid");(function(e,t){return k.a.put("/api/items/rentstatus/".concat(e),t)})(t,{active:!0}).then(function(e){var n,l;console.log(e),n=t,l={appointmentId:e.data.currentAppointment[0]},k.a.put("/api/items/appointments/".concat(n),l),function(e,t){k.a.put("/api/profile/rentals/remove/".concat(e),t)}(a,{itemId:t});var r=K(t,F.user.owned);q(r)})},V=function(e){var t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-renterid");(function(e,t){return k.a.put("/api/items/rentstatus/".concat(e),t)})(t,{pendingRequest:!1,isRented:!0}).then(function(e){!function(e,t){k.a.put("/api/profile/rentals/"+e,t)}(a,{itemId:t});var n=K(t,F.user.owned);T(n)}).catch(function(e){return console.log(e)})},Y=function(e){var t=e.target.getAttribute("data-id"),a=e.target.getAttribute("data-appointmentid");(function(e,t){return k.a.put("/api/items/pendingstatus/".concat(e),t)})(t,{pendingRequest:!1,$pull:{currentAppointment:a}}).then(function(e){var a=K(t,F.user.owned);T(a)}).catch(function(e){return console.log(e)})},K=function(e,t){return t.filter(function(t){return t._id!==e})};return Object(n.useEffect)(function(){F.user?S(F.user.userId).then(function(e){var t;t=e.data[0],D({type:d,user:t})}):z.push("/signup")},[]),l.a.createElement("div",null,F.user?l.a.createElement("div",{className:"profile-page"},l.a.createElement(P,{currentPage:"profile"}),l.a.createElement("br",null),l.a.createElement(j.Container,null,l.a.createElement(se,{handlePageChange:function(e){var t=e.target.getAttribute("data-page");switch(t){case"My items":O(F.user.owned);break;case"Rental History":I(F.user.rentalHistory);break;case"Rentals":H(F.user.rentals);break;case"Requests":T(F.user.owned);break;case"Returns":q(F.user.owned)}U(t)},tabs:["Profile","My items","Rental History","Rentals","Requests","Returns"]})),l.a.createElement(j.Section,null,l.a.createElement(j.Container,null,"My items"===L?l.a.createElement(l.a.Fragment,null,0!==C.length?C.map(function(e){return l.a.createElement(oe,{image:e.img,title:e.name,description:e.description,price:e.price,rented:{itemStatus:e.isRented},history:e.appointmentHistory})}):l.a.createElement("div",null,"No items posted yet")):"Rental History"===L?l.a.createElement(l.a.Fragment,null,0!==R.length?R.map(function(e,t){return l.a.createElement(oe,{image:e.img,title:e.name,startDate:e.appointmentHistory[t].startDate,endDate:e.appointmentHistory[t].endDate})}):l.a.createElement("div",null,"You havent rented any itmes yet")," "):"Rentals"===L?l.a.createElement(l.a.Fragment,null,0!==u.length?u.map(function(e){return l.a.createElement(oe,{image:e.img,title:e.name,startDate:e.currentAppointment[0].startDate,endDate:e.currentAppointment[0].endDate},l.a.createElement(me,{onClick:W,"data-id":e._id},"Return"),l.a.createElement(ae,null))}):l.a.createElement("div",null,"No Rentals")):"Requests"===L?l.a.createElement(l.a.Fragment,null,0!==a.length?a.map(function(e){return l.a.createElement(oe,{image:e.img,title:e.name,startDate:e.currentAppointment[0].startDate,endDate:e.currentAppointment[0].endDate},l.a.createElement(ue,{onClick:V,"data-renterid":e.renterUserId,"data-id":e._id},"Accept"),l.a.createElement(de,{onClick:Y,"data-appointmentid":e.currentAppointment[0]._id,"data-id":e._id},"Reject"))}):l.a.createElement("div",null,"No Requests")):"Returns"===L?l.a.createElement(l.a.Fragment,null,0!==g.length?g.map(function(e){return l.a.createElement(oe,{image:e.img,title:e.name,startDate:e.currentAppointment[0].startDate,endDate:e.currentAppointment[0].endDate},l.a.createElement(ue,{onClick:B,"data-renterid":e.renterUserId,"data-id":e._id},"Confirm"))}):l.a.createElement("div",null,"No Returns")):l.a.createElement("div",{className:"box"},l.a.createElement("h2",{className:"subtitle is-2"},"".concat(F.user?F.user.firstName:l.a.createElement(l.a.Fragment,null)," ").concat(F.user?F.user.lastName:l.a.createElement(l.a.Fragment,null)," (").concat(F.user.username,")")," ",l.a.createElement("img",{src:F.user.icon})),l.a.createElement("div",{className:"content"},l.a.createElement("h6",{className:"subtitle is-6"},F.user?"".concat(F.user.address," ").concat(F.user.city,", ").concat(F.user.state," ").concat(F.user.zipCode):l.a.createElement(l.a.Fragment,null," ")),l.a.createElement("h6",{className:"subtitle is-6"},F.user?"".concat(F.user.email):l.a.createElement(l.a.Fragment,null," ")),l.a.createElement("h6",{className:"subtitle is-6"},"Total listings: ",F.user?F.user.owned.length:"no listing"),l.a.createElement("h6",{className:"subtitle is-6"},"Items Renting: ",F.user?F.user.rentals.length:"no listing"),l.a.createElement(i.c,{to:"/editprofile"},l.a.createElement("i",{className:"fas fa-pencil-alt"}))))))):l.a.createElement("div",null))},pe=[{id:"butterfly",src:"./assets/icons/butterfly.png"},{id:"dog",src:"./assets/icons/dog.png"},{id:"falcon",src:"./assets/icons/falcon.png"},{id:"iguana",src:"./assets/icons/iguana.png"},{id:"octopus",src:"./assets/icons/octopus.png"},{id:"owl",src:"./assets/icons/owl.png"}],Ee=function(e){var t=h(),a=Object(o.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(),s=Object(o.a)(i,2),m=s[0],u=s[1],f=Object(n.useRef)(),p=Object(n.useRef)(),E=Object(n.useRef)(),g=Object(n.useRef)(),y=Object(n.useRef)(),R=Object(n.useState)({}),I=Object(o.a)(R,2),x=I[0],A=I[1],F=function(){w().then(function(e){S(e.data.user._id).then(function(e){var t;t=e.data[0],c({type:d,user:t})})})},D=function(e){u(e.target.value)};return l.a.createElement(j.Section,null,l.a.createElement(j.Container,{className:"notification is-info is-light"},l.a.createElement("h3",{className:"subtitle is-3"},"".concat(r.user.firstName," ").concat(r.user.lastName," (").concat(r.user.username,")")),l.a.createElement(j.Columns,null,l.a.createElement(j.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"Profile Icon"},l.a.createElement(v,null,l.a.createElement(j.Columns,null,pe.map(function(e){var t=e.id,a=e.src;return l.a.createElement(j.Columns.Column,{key:t,className:"is-narrow"},l.a.createElement("label",{className:"radio"},l.a.createElement("input",{type:"radio",name:"icon",value:a,onClick:D}),l.a.createElement("img",{src:a})))})))))),l.a.createElement(b,{label:"Address"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"5555 N Main St",defaultValue:r.user.address?r.user.address:"",ref:p}))),l.a.createElement(j.Columns,null,l.a.createElement(j.Columns.Column,null,l.a.createElement(b,{label:"City"},l.a.createElement(v,null,l.a.createElement("input",{className:"input",type:"text",placeholder:"Seattle",defaultValue:r.user.city?r.user.city:"",ref:E})))),l.a.createElement(j.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"State"},l.a.createElement(v,null,l.a.createElement(O,{stateRef:g,defaultState:r.user.state?r.user.state:null})))),l.a.createElement(j.Columns.Column,{className:"is-narrow"},l.a.createElement(b,{label:"Zip Code"},l.a.createElement(v,null,l.a.createElement("input",{className:"input ".concat(x.zipCode?"is-danger":""),type:"text",placeholder:"00000",defaultValue:r.user.zipCode?r.user.zipCode:"",ref:y}))))),l.a.createElement(b,{label:"Email"},l.a.createElement(v,{controlClass:"has-icons-left has-icons-right"},l.a.createElement("input",{className:"input ".concat(x.email?"is-danger":""),type:"email",placeholder:"@email.com",defaultValue:r.user.email?r.user.email:"",ref:f}),l.a.createElement(N,{size:"small",side:"left",icon:"envelope"}),l.a.createElement(N,{size:"small",side:"right",icon:"exclamation-triangle"}))),l.a.createElement("div",{className:"field is-grouped"},l.a.createElement("div",{className:"control"},l.a.createElement(j.Button,{className:"is-link",type:"submit",onClick:function(e){e.preventDefault();var t,a,n={address:p.current.value.length>0?p.current.value:r.user.address,city:E.current.value.length>0?E.current.value:r.user.city,state:g.current.value.length>0?g.current.value:r.user.state,zipCode:y.current.value.length>0?y.current.value:r.user.zipCode,email:f.current.value.length>0?f.current.value:r.user.email,icon:m||r.user.icon};(t=r.user.userId,a=n,k.a.put("/api/profile/"+t,a)).then(function(){A({}),alert("Profile Updated"),F()}).catch(function(e){A(e.response.data.err)})}},"Submit")),l.a.createElement(C,{type:"danger",message:x?x.message:""}))))},ge=function(){var e=h(),t=Object(o.a)(e,2),a=t[0],r=(t[1],Object(s.f)());return Object(n.useEffect)(function(){a.user||r.push("/signup")},[]),l.a.createElement("div",null,l.a.createElement(P,null),a.user?l.a.createElement(Ee,null):l.a.createElement("div",null))};var he=function(){return l.a.createElement(g,null,l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:q}),l.a.createElement(s.a,{exact:!0,path:"/signup",component:U}),l.a.createElement(s.a,{exact:!0,path:"/listings",component:$}),l.a.createElement(s.a,{exact:!0,path:"/newlisting",component:X}),l.a.createElement(s.a,{exact:!0,path:"/items/:id",component:ie}),l.a.createElement(s.a,{exact:!0,path:"/profile",component:fe}),l.a.createElement(s.a,{exact:!0,path:"/editprofile",component:ge})))))},be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(l.a.createElement(he,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");be?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ve(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):ve(e)})}}()}},[[211,1,2]]]);
//# sourceMappingURL=main.3b1404b1.chunk.js.map